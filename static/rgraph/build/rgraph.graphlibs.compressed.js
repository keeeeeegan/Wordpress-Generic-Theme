if(typeof (RGraph)=="undefined"){RGraph={};}RGraph.Line=function(id){this.id=id;this.canvas=document.getElementById(id);this.context=this.canvas.getContext?this.canvas.getContext("2d"):null;this.canvas.__object__=this;this.type="line";this.max=0;this.coords=[];this.coords2=[];this.coords.key=[];this.hasnegativevalues=false;this.isRGraph=true;this.uid=RGraph.CreateUID();this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID();RGraph.OldBrowserCompat(this.context);this.properties={"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid":1,"chart.background.grid.width":1,"chart.background.grid.hsize":25,"chart.background.grid.vsize":25,"chart.background.grid.color":"#ddd","chart.background.grid.vlines":true,"chart.background.grid.hlines":true,"chart.background.grid.border":true,"chart.background.grid.autofit":true,"chart.background.grid.autofit.align":false,"chart.background.grid.autofit.numhlines":5,"chart.background.grid.autofit.numvlines":20,"chart.background.hbars":null,"chart.background.image":null,"chart.background.image.stretch":true,"chart.background.image.x":null,"chart.background.image.y":null,"chart.background.image.w":null,"chart.background.image.h":null,"chart.background.image.align":null,"chart.labels":null,"chart.labels.ingraph":null,"chart.labels.above":false,"chart.labels.above.size":8,"chart.xtickgap":20,"chart.smallxticks":3,"chart.largexticks":5,"chart.ytickgap":20,"chart.smallyticks":3,"chart.largeyticks":5,"chart.numyticks":10,"chart.linewidth":1.01,"chart.colors":["red","#0f0","#00f","#f0f","#ff0","#0ff"],"chart.hmargin":0,"chart.tickmarks.dot.color":"white","chart.tickmarks":null,"chart.tickmarks.linewidth":null,"chart.ticksize":3,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.tickdirection":-1,"chart.yaxispoints":5,"chart.fillstyle":null,"chart.xaxispos":"bottom","chart.yaxispos":"left","chart.xticks":null,"chart.text.size":10,"chart.text.angle":0,"chart.text.color":"black","chart.text.font":"Arial","chart.ymin":null,"chart.ymax":null,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":0.5,"chart.title.bold":true,"chart.title.font":null,"chart.title.xaxis":"","chart.title.xaxis.bold":true,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":true,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":null,"chart.shadow":false,"chart.shadow.offsetx":2,"chart.shadow.offsety":2,"chart.shadow.blur":3,"chart.shadow.color":"rgba(0,0,0,0.5)","chart.tooltips":null,"chart.tooltips.hotspot.xonly":false,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onmousemove","chart.tooltips.highlight":true,"chart.tooltips.coords.page":false,"chart.highlight.stroke":"gray","chart.highlight.fill":"white","chart.stepped":false,"chart.key":[],"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":null,"chart.key.shadow":false,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":true,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":true,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":false,"chart.contextmenu":null,"chart.ylabels":true,"chart.ylabels.count":5,"chart.ylabels.inside":false,"chart.ylabels.invert":false,"chart.xlabels.inside":false,"chart.xlabels.inside.color":"rgba(255,255,255,0.5)","chart.noaxes":false,"chart.noyaxis":false,"chart.noxaxis":false,"chart.noendxtick":false,"chart.noendytick":false,"chart.units.post":"","chart.units.pre":"","chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.crosshairs":false,"chart.crosshairs.color":"#333","chart.crosshairs.hline":true,"chart.crosshairs.vline":true,"chart.annotatable":false,"chart.annotate.color":"black","chart.axesontop":false,"chart.filled":false,"chart.filled.range":false,"chart.filled.accumulative":true,"chart.variant":null,"chart.axis.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":true,"chart.zoom.fade.out":true,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":true,"chart.zoom.background":true,"chart.zoom.action":"zoom","chart.backdrop":false,"chart.backdrop.size":30,"chart.backdrop.alpha":0.2,"chart.resizable":false,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.adjustable":false,"chart.noredraw":false,"chart.outofbounds":false,"chart.chromefix":true,"chart.animation.factor":1,"chart.animation.unfold.x":false,"chart.animation.unfold.y":true,"chart.animation.unfold.initial":2,"chart.curvy":false,"chart.curvy.factor":0.25,"chart.line.visible":true,"chart.events.click":null,"chart.events.mousemove":null};for(var i=1;i<arguments.length;++i){if(typeof (arguments[i])=="null"||!arguments[i]){arguments[i]=[];}}this.original_data=[];for(var i=1;i<arguments.length;++i){if(arguments[1]&&typeof (arguments[1])=="object"&&arguments[1][0]&&typeof (arguments[1][0])=="object"&&arguments[1][0].length){var _1=[];for(var i=0;i<arguments[1].length;++i){_1[i]=RGraph.array_clone(arguments[1][i]);}for(var j=0;j<_1.length;++j){this.original_data[j]=RGraph.array_clone(_1[j]);}}else{this.original_data[i-1]=RGraph.array_clone(arguments[i]);}}if(!this.canvas){alert("[LINE] Fatal error: no canvas support");return;}this.data_arr=RGraph.array_linearize(this.original_data);RGraph.Register(this);};RGraph.Line.prototype.Set=function(_2,_3){if(_2=="chart.tooltips"&&typeof _3=="object"&&_3){var _4=[];for(var i=1;i<arguments.length;i++){if(typeof (arguments[i])=="object"&&arguments[i][0]){for(var j=0;j<arguments[i].length;j++){_4.push(arguments[i][j]);}}else{if(typeof (arguments[i])=="function"){_4=arguments[i];}else{_4.push(arguments[i]);}}}_3=_4;}if(_2=="chart.tickmarks"&&typeof (_3)=="object"&&_3){_3=RGraph.array_reverse(_3);}if(_2=="chart.ylabels.invert"&&_3&&this.Get("chart.ymin")==null){this.Set("chart.ymin",0);}if(_2=="chart.linewidth"&&navigator.userAgent.match(/Chrome/)){if(_3==1){_3=1.01;}else{if(RGraph.is_array(_3)){for(var i=0;i<_3.length;++i){if(typeof (_3[i])=="number"&&_3[i]==1){_3[i]=1.01;}}}}}if(_2=="chart.xaxispos"){if(_3!="bottom"&&_3!="center"&&_3!="top"){alert("[LINE] ("+this.id+") chart.xaxispos should be top, center or bottom. Tried to set it to: "+_3+" Changing it to center");_3="center";}}if(_2=="chart.curvy.factor"&&(_3<0||_3>0.5)){alert("[LINE] chart.curvy.factor should be between 0 and 0.5 - setting it to 0.25");_3=0.25;}if(_2=="chart.numxticks"){_2="chart.xticks";}this.properties[_2]=_3;};RGraph.Line.prototype.Get=function(_5){return this.properties[_5];};RGraph.Line.prototype.Draw=function(){if(typeof (this.Get("chart.background.image"))=="string"){RGraph.DrawBackgroundImage(this);}RGraph.FireCustomEvent(this,"onbeforedraw");this.gutterLeft=this.Get("chart.gutter.left");this.gutterRight=this.Get("chart.gutter.right");this.gutterTop=this.Get("chart.gutter.top");this.gutterBottom=this.Get("chart.gutter.bottom");if(this.Get("chart.shadow")&&navigator.userAgent.match(/Chrome/)&&this.Get("chart.linewidth")<=1&&this.Get("chart.chromefix")&&this.Get("chart.shadow.blur")>0){alert("[RGRAPH WARNING] Chrome has a shadow bug, meaning you should increase the linewidth to at least 1.01");}this.data=RGraph.array_clone(this.original_data);this.max=0;if(this.Get("chart.filled")&&!this.Get("chart.filled.range")&&this.data.length>1&&this.Get("chart.filled.accumulative")){var _6=[];for(var _7=0;_7<this.data.length;++_7){for(var _8=0;_8<this.data[_7].length;++_8){this.data[_7][_8]=Number(_6[_8]?_6[_8]:0)+this.data[_7][_8];_6[_8]=this.data[_7][_8];}}}if(this.Get("chart.ymax")){this.max=this.Get("chart.ymax");this.min=this.Get("chart.ymin")?this.Get("chart.ymin"):0;this.scale=[(((this.max-this.min)*(1/5))+this.min).toFixed(this.Get("chart.scale.decimals")),(((this.max-this.min)*(2/5))+this.min).toFixed(this.Get("chart.scale.decimals")),(((this.max-this.min)*(3/5))+this.min).toFixed(this.Get("chart.scale.decimals")),(((this.max-this.min)*(4/5))+this.min).toFixed(this.Get("chart.scale.decimals")),this.max.toFixed(this.Get("chart.scale.decimals"))];if(!this.Get("chart.outofbounds")){for(dataset=0;dataset<this.data.length;++dataset){for(var _9=0;_9<this.data[dataset].length;_9++){this.hasnegativevalues=(this.data[dataset][_9]<0)||this.hasnegativevalues;}}}}else{this.min=this.Get("chart.ymin")?this.Get("chart.ymin"):0;for(dataset=0;dataset<this.data.length;++dataset){for(var _9=0;_9<this.data[dataset].length;_9++){this.max=Math.max(this.max,this.data[dataset][_9]?Math.abs(parseFloat(this.data[dataset][_9])):0);if(!this.Get("chart.outofbounds")){this.hasnegativevalues=(this.data[dataset][_9]<0)||this.hasnegativevalues;}}}this.scale=RGraph.getScale(Math.abs(parseFloat(this.max)),this);this.max=this.scale[4]?this.scale[4]:0;if(this.Get("chart.ymin")){this.scale[0]=((this.max-this.Get("chart.ymin"))*(1/5))+this.Get("chart.ymin");this.scale[1]=((this.max-this.Get("chart.ymin"))*(2/5))+this.Get("chart.ymin");this.scale[2]=((this.max-this.Get("chart.ymin"))*(3/5))+this.Get("chart.ymin");this.scale[3]=((this.max-this.Get("chart.ymin"))*(4/5))+this.Get("chart.ymin");this.scale[4]=((this.max-this.Get("chart.ymin"))*(5/5))+this.Get("chart.ymin");}if(typeof (this.Get("chart.scale.decimals"))=="number"){this.scale[0]=Number(this.scale[0]).toFixed(this.Get("chart.scale.decimals"));this.scale[1]=Number(this.scale[1]).toFixed(this.Get("chart.scale.decimals"));this.scale[2]=Number(this.scale[2]).toFixed(this.Get("chart.scale.decimals"));this.scale[3]=Number(this.scale[3]).toFixed(this.Get("chart.scale.decimals"));this.scale[4]=Number(this.scale[4]).toFixed(this.Get("chart.scale.decimals"));}}if(this.Get("chart.contextmenu")){RGraph.ShowContext(this);}this.coords=[];this.grapharea=this.canvas.height-this.gutterTop-this.gutterBottom;this.halfgrapharea=this.grapharea/2;this.halfTextHeight=this.Get("chart.text.size")/2;if(this.Get("chart.xaxispos")=="bottom"&&this.hasnegativevalues&&navigator.userAgent.indexOf("Opera")==-1){alert("[LINE] You have negative values and the X axis is at the bottom. This is not good...");}if(this.Get("chart.variant")=="3d"){RGraph.Draw3DAxes(this);}RGraph.background.Draw(this);if(this.Get("chart.background.hbars")&&this.Get("chart.background.hbars").length>0){RGraph.DrawBars(this);}if(this.Get("chart.axesontop")==false){this.DrawAxes();}var _a=this.Get("chart.shadow.color");for(var i=0,j=0;i<this.data.length;i++,j++){this.context.beginPath();if(this.Get("chart.shadow")&&!this.Get("chart.filled")){if(typeof (_a)=="object"&&_a[i-1]){this.context.shadowColor=_a[i];}else{if(typeof (_a)=="object"){this.context.shadowColor=_a[0];}else{if(typeof (_a)=="string"){this.context.shadowColor=_a;}}}this.context.shadowBlur=this.Get("chart.shadow.blur");this.context.shadowOffsetX=this.Get("chart.shadow.offsetx");this.context.shadowOffsetY=this.Get("chart.shadow.offsety");}else{if(this.Get("chart.filled")&&this.Get("chart.shadow")){alert("[LINE] Shadows are not permitted when the line is filled");}}if(this.Get("chart.fillstyle")){if(typeof (this.Get("chart.fillstyle"))=="object"&&this.Get("chart.fillstyle")[j]){var _b=this.Get("chart.fillstyle")[j];}else{if(typeof (this.Get("chart.fillstyle"))=="string"){var _b=this.Get("chart.fillstyle");}else{alert("[LINE] Warning: chart.fillstyle must be either a string or an array with the same number of elements as you have sets of data");}}}else{if(this.Get("chart.filled")){var _b=this.Get("chart.colors")[j];}else{var _b=null;}}if(this.Get("chart.tickmarks")&&typeof (this.Get("chart.tickmarks"))=="object"){var _c=this.Get("chart.tickmarks")[i];}else{if(this.Get("chart.tickmarks")&&typeof (this.Get("chart.tickmarks"))=="string"){var _c=this.Get("chart.tickmarks");}else{if(this.Get("chart.tickmarks")&&typeof (this.Get("chart.tickmarks"))=="function"){var _c=this.Get("chart.tickmarks");}else{var _c=null;}}}this.DrawLine(this.data[i],this.Get("chart.colors")[j],_b,this.GetLineWidth(j),_c,i);this.context.stroke();}if(this.Get("chart.filled")&&this.Get("chart.filled.accumulative")){for(var i=0;i<this.coords2.length;++i){this.context.beginPath();this.context.lineWidth=this.GetLineWidth(i);this.context.strokeStyle=this.Get("chart.colors")[i];for(var j=0;j<this.coords2[i].length;++j){if(j==0||this.coords2[i][j][1]==null||(this.coords2[i][j-1]&&this.coords2[i][j-1][1]==null)){this.context.moveTo(this.coords2[i][j][0],this.coords2[i][j][1]);}else{if(this.Get("chart.stepped")){this.context.lineTo(this.coords2[i][j][0],this.coords2[i][j-1][1]);}this.context.lineTo(this.coords2[i][j][0],this.coords2[i][j][1]);}}this.context.stroke();}if(this.Get("chart.tickmarks")){this.context.beginPath();this.context.fillStyle="white";for(var i=0;i<this.coords2.length;++i){this.context.beginPath();this.context.strokeStyle=this.Get("chart.colors")[i];for(var j=0;j<this.coords2[i].length;++j){if(typeof (this.coords2[i][j])=="object"&&typeof (this.coords2[i][j][0])=="number"&&typeof (this.coords2[i][j][1])=="number"){var _c=typeof (this.Get("chart.tickmarks"))=="object"?this.Get("chart.tickmarks")[i]:this.Get("chart.tickmarks");this.DrawTick(this.coords2[i][j],this.coords2[i][j][0],this.coords2[i][j][1],this.context.strokeStyle,false,j==0?0:this.coords2[i][j-1][0],j==0?0:this.coords2[i][j-1][1],_c,j);}}}this.context.stroke();this.context.fill();}}this.context.beginPath();if(this.Get("chart.axesontop")){this.DrawAxes();}this.DrawLabels();this.DrawRange();if(this.Get("chart.key").length&&RGraph.DrawKey){RGraph.DrawKey(this,this.Get("chart.key"),this.Get("chart.colors"));}if(this.Get("chart.labels.above")){this.DrawAboveLabels();}RGraph.DrawInGraphLabels(this);if(this.Get("chart.filled")&&this.Get("chart.filled.range")&&this.data.length==2){this.context.beginPath();var _d=this.coords.length/2;this.context.lineWidth=this.Get("chart.linewidth");this.context.strokeStyle=this.Get("chart.colors")[0];for(var i=0;i<_d;++i){if(i==0){this.context.moveTo(this.coords[i][0],this.coords[i][1]);}else{this.context.lineTo(this.coords[i][0],this.coords[i][1]);}}this.context.stroke();this.context.beginPath();if(this.Get("chart.colors")[1]){this.context.strokeStyle=this.Get("chart.colors")[1];}for(var i=this.coords.length-1;i>=_d;--i){if(i==(this.coords.length-1)){this.context.moveTo(this.coords[i][0],this.coords[i][1]);}else{this.context.lineTo(this.coords[i][0],this.coords[i][1]);}}this.context.stroke();}else{if(this.Get("chart.filled")&&this.Get("chart.filled.range")){alert("[LINE] You must have only two sets of data for a filled range chart");}}if(this.Get("chart.resizable")){RGraph.AllowResizing(this);}RGraph.InstallEventListeners(this);RGraph.FireCustomEvent(this,"ondraw");};RGraph.Line.prototype.DrawAxes=function(){if(this.Get("chart.noaxes")){return;}RGraph.NoShadow(this);this.context.lineWidth=1;this.context.lineCap="butt";this.context.strokeStyle=this.Get("chart.axis.color");this.context.beginPath();if(this.Get("chart.noxaxis")==false){if(this.Get("chart.xaxispos")=="center"){this.context.moveTo(this.gutterLeft,AA(this,(this.grapharea/2)+this.gutterTop));this.context.lineTo(this.canvas.width-this.gutterRight,AA(this,(this.grapharea/2)+this.gutterTop));}else{if(this.Get("chart.xaxispos")=="top"){this.context.moveTo(this.gutterLeft,AA(this,this.gutterTop));this.context.lineTo(this.canvas.width-this.gutterRight,AA(this,this.gutterTop));}else{this.context.moveTo(this.gutterLeft,AA(this,this.canvas.height-this.gutterBottom));this.context.lineTo(this.canvas.width-this.gutterRight,AA(this,this.canvas.height-this.gutterBottom));}}}if(this.Get("chart.noyaxis")==false){if(this.Get("chart.yaxispos")=="left"){this.context.moveTo(AA(this,this.gutterLeft),this.gutterTop);this.context.lineTo(AA(this,this.gutterLeft),this.canvas.height-this.gutterBottom);}else{this.context.moveTo(AA(this,this.canvas.width-this.gutterRight),this.gutterTop);this.context.lineTo(AA(this,this.canvas.width-this.gutterRight),this.canvas.height-this.gutterBottom);}}if(this.Get("chart.noxaxis")==false){if(this.data[0].length>0){var _e=(this.canvas.width-this.gutterLeft-this.gutterRight)/(this.Get("chart.xticks")?this.Get("chart.xticks"):(this.data[0].length-1));}if(!_e||_e<=0){_e=(this.canvas.width-this.gutterLeft-this.gutterRight)/(this.Get("chart.labels")&&this.Get("chart.labels").length?this.Get("chart.labels").length-1:10);}for(x=this.gutterLeft+(this.Get("chart.yaxispos")=="left"?_e:0);x<=(this.canvas.width-this.gutterRight+1);x+=_e){if(this.Get("chart.yaxispos")=="right"&&x>=(this.canvas.width-this.gutterRight-1)){break;}if(this.Get("chart.noendxtick")){if(this.Get("chart.yaxispos")=="left"&&x>=(this.canvas.width-this.gutterRight)){break;}else{if(this.Get("chart.yaxispos")=="right"&&x==this.gutterLeft){continue;}}}var _f=this.Get("chart.xaxispos")=="center"?(this.gutterTop+(this.grapharea/2))-3:this.canvas.height-this.gutterBottom;var _10=this.Get("chart.xaxispos")=="center"?_f+6:this.canvas.height-this.gutterBottom-(x%60==0?this.Get("chart.largexticks")*this.Get("chart.tickdirection"):this.Get("chart.smallxticks")*this.Get("chart.tickdirection"));if(this.Get("chart.xaxispos")=="center"){var _f=AA(this,(this.gutterTop+(this.grapharea/2)))-3;var _10=_f+6;}else{if(this.Get("chart.xaxispos")=="bottom"){var _f=this.canvas.height-this.gutterBottom;var _10=this.canvas.height-this.gutterBottom-(x%60==0?this.Get("chart.largexticks")*this.Get("chart.tickdirection"):this.Get("chart.smallxticks")*this.Get("chart.tickdirection"));_10+=0.5;}else{if(this.Get("chart.xaxispos")=="top"){_f=this.gutterTop-3;_10=this.gutterTop;}}}this.context.moveTo(AA(this,x),_f);this.context.lineTo(AA(this,x),_10);}}else{if(this.Get("chart.noyaxis")==false){if(!this.Get("chart.noendytick")){if(this.Get("chart.yaxispos")=="left"){this.context.moveTo(this.gutterLeft,AA(this,this.canvas.height-this.gutterBottom));this.context.lineTo(this.gutterLeft-this.Get("chart.smallyticks"),AA(this,this.canvas.height-this.gutterBottom));}else{this.context.moveTo(this.canvas.width-this.gutterRight,AA(this,this.canvas.height-this.gutterBottom));this.context.lineTo(this.canvas.width-this.gutterRight+this.Get("chart.smallyticks"),AA(this,this.canvas.height-this.gutterBottom));}}}}var _11=this.Get("chart.numyticks");if(this.Get("chart.noyaxis")==false){var _12=0;var _13=0;if(this.Get("chart.yaxispos")=="right"){_13=(this.canvas.width-this.gutterLeft-this.gutterRight);}if(this.Get("chart.xaxispos")=="center"){var _14=(this.grapharea/_11);var _15=(this.Get("chart.yaxispos")=="left"?this.gutterLeft:this.canvas.width-this.gutterRight+this.Get("chart.smallyticks"));for(y=this.gutterTop;y<(this.grapharea/2)+this.gutterTop;y+=_14){if(y<(this.grapharea/2)+this.gutterTop-1){this.context.moveTo((this.Get("chart.yaxispos")=="left"?this.gutterLeft-this.Get("chart.smallyticks"):this.canvas.width-this.gutterRight),AA(this,y));this.context.lineTo(_15,AA(this,y));}}for(y=this.gutterTop+(this.halfgrapharea)+_14;y<=this.grapharea+this.gutterTop;y+=_14){this.context.moveTo((this.Get("chart.yaxispos")=="left"?this.gutterLeft-this.Get("chart.smallyticks"):this.canvas.width-this.gutterRight),AA(this,y));this.context.lineTo(_15,AA(this,y));}}else{if(this.Get("chart.xaxispos")=="top"){var _14=(this.grapharea/_11);var _15=(this.Get("chart.yaxispos")=="left"?this.gutterLeft:this.canvas.width-this.gutterRight+this.Get("chart.smallyticks"));for(y=this.gutterTop+_14;y<=this.grapharea+this.gutterTop;y+=_14){this.context.moveTo((this.Get("chart.yaxispos")=="left"?this.gutterLeft-this.Get("chart.smallyticks"):this.canvas.width-this.gutterRight),AA(this,y));this.context.lineTo(_15,AA(this,y));}if(this.Get("chart.noxaxis")&&this.Get("chart.noendytick")==false){this.context.moveTo((this.Get("chart.yaxispos")=="left"?this.gutterLeft-this.Get("chart.smallyticks"):this.canvas.width-this.gutterRight),this.gutterTop);this.context.lineTo(_15,this.gutterTop);}}else{var _15=(this.Get("chart.yaxispos")=="left"?this.gutterLeft-this.Get("chart.smallyticks"):this.canvas.width-this.gutterRight+this.Get("chart.smallyticks"));for(y=this.gutterTop;y<(this.canvas.height-this.gutterBottom)&&_12<_11;y+=((this.canvas.height-this.gutterTop-this.gutterBottom)/_11)){this.context.moveTo(this.gutterLeft+_13,AA(this,y));this.context.lineTo(_15,AA(this,y));var _12=_12+1;}}}}else{if(this.Get("chart.noxaxis")==false){if(this.Get("chart.yaxispos")=="left"){this.context.moveTo(this.gutterLeft,this.Get("chart.xaxispos")=="top"?this.gutterTop:this.canvas.height-this.gutterBottom);this.context.lineTo(this.gutterLeft,this.Get("chart.xaxispos")=="top"?this.gutterTop-this.Get("chart.smallxticks"):this.canvas.height-this.gutterBottom+this.Get("chart.smallxticks"));}else{this.context.moveTo(this.canvas.width-this.gutterRight,this.canvas.height-this.gutterBottom);this.context.lineTo(this.canvas.width-this.gutterRight,this.canvas.height-this.gutterBottom+this.Get("chart.smallxticks"));}}}this.context.stroke();};RGraph.Line.prototype.DrawLabels=function(){this.context.strokeStyle="black";this.context.fillStyle=this.Get("chart.text.color");this.context.lineWidth=1;RGraph.NoShadow(this);var _16=this.Get("chart.text.font");var _17=this.Get("chart.text.size");var _18=this.context;var _19=this.canvas;if(this.Get("chart.ylabels")&&this.Get("chart.ylabels.specific")==null){var _1a=this.Get("chart.units.pre");var _1b=this.Get("chart.units.post");var _1c=this.Get("chart.yaxispos")=="left"?this.gutterLeft-5:this.canvas.width-this.gutterRight+5;var _1d=this.Get("chart.yaxispos")=="left"?"right":"left";var _1e=this.Get("chart.ylabels.count");var _1f=false;var _20=this.Get("chart.ylabels.inside")?this.Get("chart.ylabels.inside.color"):null;if(this.Get("chart.ylabels.inside")==true&&_1d=="left"){_1c-=10;_1d="right";_1f=true;}else{if(this.Get("chart.ylabels.inside")==true&&_1d=="right"){_1c+=10;_1d="left";_1f=true;}}if(this.Get("chart.xaxispos")=="center"){var _21=this.grapharea/2;if(_1e==1||_1e==3||_1e==5){RGraph.Text(_18,_16,_17,_1c,this.gutterTop+((0/5)*_21)+this.halfTextHeight,RGraph.number_format(this,this.scale[4],_1a,_1b),null,_1d,_1f,null,_20);if(_1e==5){RGraph.Text(_18,_16,_17,_1c,this.gutterTop+((1/5)*_21)+this.halfTextHeight,RGraph.number_format(this,this.scale[3],_1a,_1b),null,_1d,_1f,null,_20);RGraph.Text(_18,_16,_17,_1c,this.gutterTop+((3/5)*_21)+this.halfTextHeight,RGraph.number_format(this,this.scale[1],_1a,_1b),null,_1d,_1f,null,_20);}if(_1e>=3){RGraph.Text(_18,_16,_17,_1c,this.gutterTop+((2/5)*_21)+this.halfTextHeight,RGraph.number_format(this,this.scale[2],_1a,_1b),null,_1d,_1f,null,_20);RGraph.Text(_18,_16,_17,_1c,this.gutterTop+((4/5)*_21)+this.halfTextHeight,RGraph.number_format(this,this.scale[0],_1a,_1b),null,_1d,_1f,null,_20);}if(_1e>=3){RGraph.Text(_18,_16,_17,_1c,this.gutterTop+((6/5)*_21)+this.halfTextHeight,"-"+RGraph.number_format(this,this.scale[0],_1a,_1b),null,_1d,_1f,null,_20);RGraph.Text(_18,_16,_17,_1c,this.gutterTop+((8/5)*_21)+this.halfTextHeight,"-"+RGraph.number_format(this,this.scale[2],_1a,_1b),null,_1d,_1f,null,_20);}if(_1e==5){RGraph.Text(_18,_16,_17,_1c,this.gutterTop+((7/5)*_21)+this.halfTextHeight,"-"+RGraph.number_format(this,this.scale[1],_1a,_1b),null,_1d,_1f,null,_20);RGraph.Text(_18,_16,_17,_1c,this.gutterTop+((9/5)*_21)+this.halfTextHeight,"-"+RGraph.number_format(this,this.scale[3],_1a,_1b),null,_1d,_1f,null,_20);}RGraph.Text(_18,_16,_17,_1c,this.gutterTop+((10/5)*_21)+this.halfTextHeight,"-"+RGraph.number_format(this,(this.scale[4]=="1.0"?"1.0":this.scale[4]),_1a,_1b),null,_1d,_1f,null,_20);}else{if(_1e==10){var _22=(this.grapharea/_1e)/2;for(var i=0;i<_1e;++i){RGraph.Text(_18,_16,_17,_1c,this.gutterTop+this.halfTextHeight+((i/20)*(this.grapharea)),RGraph.number_format(this,((this.scale[4]/_1e)*(_1e-i)).toFixed((this.Get("chart.scale.decimals"))),_1a,_1b),null,_1d,_1f,null,_20);RGraph.Text(_18,_16,_17,_1c,this.gutterTop+this.halfTextHeight+((i/20)*this.grapharea)+(this.grapharea/2)+(this.grapharea/20),"-"+RGraph.number_format(this,(this.scale[4]-((this.scale[4]/_1e)*(_1e-i-1))).toFixed((this.Get("chart.scale.decimals"))),_1a,_1b),null,_1d,_1f,null,_20);}}else{alert("[LINE SCALE] The number of Y labels must be 1/3/5/10");}}if(typeof (this.Get("chart.ymin"))=="number"){RGraph.Text(_18,_16,_17,_1c,this.canvas.height/2,RGraph.number_format(this,this.Get("chart.ymin").toFixed(this.Get("chart.scale.decimals")),_1a,_1b),"center",_1d,_1f,null,_20);}if(this.Get("chart.noxaxis")==true){RGraph.Text(_18,_16,_17,_1c,this.gutterTop+((5/5)*_21)+this.halfTextHeight,this.Get("chart.units.pre")+"0"+this.Get("chart.units.post"),null,_1d,_1f,null,_20);}}else{if(this.Get("chart.xaxispos")=="top"){var _23=RGraph.array_reverse(this.scale);if(this.Get("chart.ylabels.invert")){_23=RGraph.array_reverse(_23);this.context.translate(0,this.grapharea*-0.2);if(typeof (this.Get("chart.ymin"))==null){this.Set("chart.ymin",0);}}if(_1e==1||_1e==3||_1e==5){RGraph.Text(_18,_16,_17,_1c,this.gutterTop+this.halfTextHeight+((1/5)*(this.grapharea)),"-"+RGraph.number_format(this,_23[4],_1a,_1b),null,_1d,_1f,null,_20);if(_1e==5){RGraph.Text(_18,_16,_17,_1c,this.gutterTop+this.halfTextHeight+((4/5)*(this.grapharea)),"-"+RGraph.number_format(this,_23[1],_1a,_1b),null,_1d,_1f,null,_20);RGraph.Text(_18,_16,_17,_1c,this.gutterTop+this.halfTextHeight+((2/5)*(this.grapharea)),"-"+RGraph.number_format(this,_23[3],_1a,_1b),null,_1d,_1f,null,_20);}if(_1e>=3){RGraph.Text(_18,_16,_17,_1c,this.gutterTop+this.halfTextHeight+((3/5)*(this.grapharea)),"-"+RGraph.number_format(this,_23[2],_1a,_1b),null,_1d,_1f,null,_20);RGraph.Text(_18,_16,_17,_1c,this.gutterTop+this.halfTextHeight+((5/5)*(this.grapharea)),"-"+RGraph.number_format(this,_23[0],_1a,_1b),null,_1d,_1f,null,_20);}}else{if(_1e==10){var _22=(this.grapharea/_1e)/2;for(var i=0;i<_1e;++i){RGraph.Text(_18,_16,_17,_1c,(2*_22)+this.gutterTop+this.halfTextHeight+((i/10)*(this.grapharea)),"-"+RGraph.number_format(this,(_23[0]-(((_23[0]-this.min)/_1e)*(_1e-i-1))).toFixed((this.Get("chart.scale.decimals"))),_1a,_1b),null,_1d,_1f,null,_20);}}else{alert("[LINE SCALE] The number of Y labels must be 1/3/5/10");}}if(this.Get("chart.ylabels.invert")){this.context.translate(0,0-(this.grapharea*-0.2));}if(typeof (this.Get("chart.ymin"))=="number"){RGraph.Text(_18,_16,_17,_1c,this.Get("chart.ylabels.invert")?this.canvas.height-this.gutterBottom:this.gutterTop,"-"+RGraph.number_format(this,this.Get("chart.ymin").toFixed(this.Get("chart.scale.decimals")),_1a,_1b),"center",_1d,_1f,null,_20);}}else{if(this.Get("chart.ylabels.invert")){this.scale=RGraph.array_reverse(this.scale);this.context.translate(0,this.grapharea*0.2);if(typeof (this.Get("chart.ymin"))==null){this.Set("chart.ymin",0);}}if(_1e==1||_1e==3||_1e==5){RGraph.Text(_18,_16,_17,_1c,this.gutterTop+this.halfTextHeight+((0/5)*(this.grapharea)),RGraph.number_format(this,this.scale[4],_1a,_1b),null,_1d,_1f,null,_20);if(_1e==5){RGraph.Text(_18,_16,_17,_1c,this.gutterTop+this.halfTextHeight+((3/5)*(this.grapharea)),RGraph.number_format(this,this.scale[1],_1a,_1b),null,_1d,_1f,null,_20);RGraph.Text(_18,_16,_17,_1c,this.gutterTop+this.halfTextHeight+((1/5)*(this.grapharea)),RGraph.number_format(this,this.scale[3],_1a,_1b),null,_1d,_1f,null,_20);}if(_1e>=3){RGraph.Text(_18,_16,_17,_1c,this.gutterTop+this.halfTextHeight+((2/5)*(this.grapharea)),RGraph.number_format(this,this.scale[2],_1a,_1b),null,_1d,_1f,null,_20);RGraph.Text(_18,_16,_17,_1c,this.gutterTop+this.halfTextHeight+((4/5)*(this.grapharea)),RGraph.number_format(this,this.scale[0],_1a,_1b),null,_1d,_1f,null,_20);}}else{if(_1e==10){var _22=(this.grapharea/_1e)/2;for(var i=0;i<_1e;++i){RGraph.Text(_18,_16,_17,_1c,this.gutterTop+this.halfTextHeight+((i/10)*(this.grapharea)),RGraph.number_format(this,((((this.scale[4]-this.min)/_1e)*(_1e-i))+this.min).toFixed((this.Get("chart.scale.decimals"))),_1a,_1b),null,_1d,_1f,null,_20);}}else{alert("[LINE SCALE] The number of Y labels must be 1/3/5/10");}}if(this.Get("chart.ylabels.invert")){this.context.translate(0,0-(this.grapharea*0.2));}if(typeof (this.Get("chart.ymin"))=="number"){RGraph.Text(_18,_16,_17,_1c,this.Get("chart.ylabels.invert")?this.gutterTop:this.canvas.height-this.gutterBottom,RGraph.number_format(this,this.Get("chart.ymin").toFixed(this.Get("chart.scale.decimals")),_1a,_1b),"center",_1d,_1f,null,_20);}}}if(this.Get("chart.noxaxis")==true&&this.Get("chart.ymin")==null&&this.Get("chart.xaxispos")!="center"&&this.Get("chart.noendytick")==false){RGraph.Text(_18,_16,_17,_1c,this.Get("chart.xaxispos")=="top"?this.gutterTop+this.halfTextHeight:(this.canvas.height-this.gutterBottom+this.halfTextHeight),this.Get("chart.units.pre")+"0"+this.Get("chart.units.post"),null,_1d,_1f,null,_20);}}else{if(this.Get("chart.ylabels")&&typeof (this.Get("chart.ylabels.specific"))=="object"){var gap=this.grapharea/this.Get("chart.ylabels.specific").length;var _24=this.Get("chart.yaxispos")=="left"?"right":"left";var _1f=false;var _20=null;var _25=this.Get("chart.ymin")!=null&&this.Get("chart.ymin");if(this.Get("chart.yaxispos")=="left"){var x=this.gutterLeft-5;if(this.Get("chart.ylabels.inside")){x+=10;_24="left";_1f=true;_20="rgba(255,255,255,0.5)";}}else{if(this.Get("chart.yaxispos")=="right"){var x=this.canvas.width-this.gutterRight+5;if(this.Get("chart.ylabels.inside")){x-=10;_24="right";_1f=true;_20="rgba(255,255,255,0.5)";}}}if(this.Get("chart.xaxispos")=="center"){for(var i=0;i<this.Get("chart.ylabels.specific").length;++i){var y=this.gutterTop+(this.grapharea/((this.Get("chart.ylabels.specific").length)*2)*i);if(_25&&_25>0){var y=((this.grapharea/2)/(this.Get("chart.ylabels.specific").length-(_25?1:0)))*i;y+=this.gutterTop;}RGraph.Text(_18,_16,_17,x,y,String(this.Get("chart.ylabels.specific")[i]),"center",_24,_1f,0,_20);}var _26=RGraph.array_reverse(this.Get("chart.ylabels.specific"));for(var i=0;i<_26.length;++i){var y=(this.grapharea/2)+this.gutterTop+((this.grapharea/(_26.length*2))*(i+1));if(_25&&_25>0){var y=((this.grapharea/2)/(_26.length-(_25?1:0)))*i;y+=this.gutterTop;y+=(this.grapharea/2);}RGraph.Text(_18,_16,_17,x,y,String(_26[i]),"center",_24,_1f,0,_20);}}else{if(this.Get("chart.xaxispos")=="top"){var _26=RGraph.array_reverse(this.Get("chart.ylabels.specific"));for(var i=0;i<_26.length;++i){var y=((this.grapharea/(_26.length-(_25?1:0)))*(i+(_25?0:1)));y=y+this.gutterTop;RGraph.Text(_18,_16,_17,x,y,String(_26[i]),"center",_24,_1f,0,_20);}}else{for(var i=0;i<this.Get("chart.ylabels.specific").length;++i){var y=this.gutterTop+((this.grapharea/(this.Get("chart.ylabels.specific").length-(_25?1:0)))*i);RGraph.Text(_18,_16,_17,x,y,String(this.Get("chart.ylabels.specific")[i]),"center",_24,_1f,0,_20);}}}}}if(this.Get("chart.labels")&&this.Get("chart.labels").length>0){var _27=5;var _28=false;var _20=null;var _29=0;var _2a="top";var _24="center";if(this.Get("chart.xlabels.inside")){_27=-5;_28=true;_20=this.Get("chart.xlabels.inside.color");_2a="bottom";}if(this.Get("chart.xaxispos")=="top"){_2a="bottom";_27+=2;}if(typeof (this.Get("chart.text.angle"))=="number"&&this.Get("chart.text.angle")>0){_29=-1*this.Get("chart.text.angle");_2a="center";_24="right";_27=10;if(this.Get("chart.xaxispos")=="top"){_27=10;}}this.context.fillStyle=this.Get("chart.text.color");var _2b=this.Get("chart.labels").length;for(i=0;i<_2b;++i){if(this.Get("chart.labels")[i]){var _2c=((this.canvas.width-this.gutterLeft-this.gutterRight-(2*this.Get("chart.hmargin")))/(_2b-1))*i;_2c+=this.gutterLeft+this.Get("chart.hmargin");if(this.Get("chart.labels").length!=this.data[0].length){_2c=this.gutterLeft+this.Get("chart.hmargin")+((this.canvas.width-this.gutterLeft-this.gutterRight-(2*this.Get("chart.hmargin")))*(i/(this.Get("chart.labels").length-1)));}if(!_2c){_2c=this.gutterLeft+this.Get("chart.hmargin");}if(this.Get("chart.xaxispos")=="top"&&this.Get("chart.text.angle")>0){_24="left";}RGraph.Text(_18,_16,_17,_2c,(this.Get("chart.xaxispos")=="top")?this.gutterTop-_27-(this.Get("chart.xlabels.inside")?-22:0):(this.canvas.height-this.gutterBottom)+_27,String(this.Get("chart.labels")[i]),_2a,_24,_28,_29,_20);}}}this.context.stroke();this.context.fill();};RGraph.Line.prototype.DrawLine=function(_2d,_2e,_2f,_30,_31,_32){if(this.Get("chart.animation.unfold.y")&&this.Get("chart.animation.factor")!=1){for(var i=0;i<_2d.length;++i){_2d[i]*=this.Get("chart.animation.factor");}}var _33=false;var _34=null;var _35=0;this.context.lineWidth=1;var _36=[];if(_32>0){var _37=this.coords2[_32-1];}var _38=(this.canvas.width-(2*this.Get("chart.hmargin"))-this.gutterLeft-this.gutterRight)/(_2d.length-1);for(i=0;i<_2d.length;i++){var _39=_2d[i];_34=this.canvas.height-(((_39-(_39>0?this.Get("chart.ymin"):(-1*this.Get("chart.ymin"))))/(this.max-this.min))*this.grapharea);_34=(this.grapharea/(this.max-this.min))*(_39-this.min);_34=this.canvas.height-_34;if(_39==this.max){_34=Math.round(_34);}if(this.Get("chart.ylabels.invert")){_34-=this.gutterBottom;_34-=this.gutterTop;_34=this.canvas.height-_34;}if(this.Get("chart.xaxispos")=="center"){_34=(_34-this.gutterBottom-this.gutterTop)/2;_34=_34+this.gutterTop;}else{if(this.Get("chart.xaxispos")=="top"){_34=(this.grapharea/(this.max-this.min))*(Math.abs(_39)-this.min);_34+=this.gutterTop;if(this.Get("chart.ylabels.invert")){_34-=this.gutterTop;_34=this.grapharea-_34;_34+=this.gutterTop;}}else{if(this.Get("chart.xaxispos")=="bottom"){_34-=this.gutterBottom;}}}if(_2d[i]==null||(this.Get("chart.xaxispos")=="bottom"&&_2d[i]<this.min&&!this.Get("chart.outofbounds"))||(this.Get("chart.xaxispos")=="center"&&_2d[i]<(-1*this.max)&&!this.Get("chart.outofbounds"))){_34=null;}this.context.lineCap="round";this.context.lineJoin="round";if(i>0){_35=_35+_38;}else{_35=this.Get("chart.hmargin")+this.gutterLeft;}if(this.Get("chart.animation.unfold.x")){_35*=this.Get("chart.animation.factor");if(_35<this.Get("chart.gutter.left")){_35=this.Get("chart.gutter.left");}}this.coords.push([_35,_34]);_36.push([_35,_34]);}this.context.stroke();this.coords2[_32]=_36;if(RGraph.isOld()&&this.Get("chart.shadow")){this.DrawIEShadow(_36,this.context.shadowColor);}this.context.beginPath();this.context.strokeStyle="rgba(0,0,0,0)";if(_2f){this.context.fillStyle=_2f;}var _3a=this.Get("chart.stepped");var _3b=this.Get("chart.filled");if(this.Get("chart.xaxispos")=="top"){var _3c=this.gutterTop;}else{if(this.Get("chart.xaxispos")=="center"){var _3c=this.gutterTop+(this.grapharea/2);}else{if(this.Get("chart.xaxispos")=="bottom"){var _3c=this.canvas.height-this.gutterBottom;}}}for(var i=0;i<_36.length;++i){_35=_36[i][0];_34=_36[i][1];var set=_32;var _3d=(_36[i-1]?_36[i-1][1]:null);var _3e=(i+1)==_36.length;if(_3d<this.gutterTop||_3d>(this.canvas.height-this.gutterBottom)){_33=true;}if(i==0||_33||!_34||!_3d||_3d<this.gutterTop){if(this.Get("chart.filled")&&!this.Get("chart.filled.range")){this.context.moveTo(_35+1,_3c);if(this.Get("chart.xaxispos")=="top"){this.context.moveTo(_35+1,_3c);}this.context.lineTo(_35,_34);}else{if(RGraph.isOld()&&_34==null){}else{this.context.moveTo(_35+1,_34);}}if(_34==null){_33=true;}else{_33=false;}}else{if(_3a){this.context.lineTo(_35,_36[i-1][1]);}if((_34>=this.gutterTop&&_34<=(this.canvas.height-this.gutterBottom))||this.Get("chart.outofbounds")){if(_3e&&this.Get("chart.filled")&&!this.Get("chart.filled.range")&&this.Get("chart.yaxispos")=="right"){_35-=1;}if(!_3a||!_3e){this.context.lineTo(_35,_34);if(_3b&&_36[i+1]&&_36[i+1][1]==null){this.context.lineTo(_35,_3c);}}else{if(_3a&&_3e){this.context.lineTo(_35,_34);}}_33=false;}else{_33=true;}}}if(this.Get("chart.filled")&&!this.Get("chart.filled.range")){var _3f=this.Get("chart.fillstyle");if(_32>0&&this.Get("chart.filled.accumulative")){this.context.lineTo(_35,_37?_37[i-1][1]:(this.canvas.height-this.gutterBottom-1+(this.Get("chart.xaxispos")=="center"?(this.canvas.height-this.gutterTop-this.gutterBottom)/2:0)));for(var k=(i-1);k>=0;--k){this.context.lineTo(k==0?_37[k][0]+1:_37[k][0],_37[k][1]);}}else{if(this.Get("chart.xaxispos")=="top"){this.context.lineTo(_35,this.Get("chart.gutter.top")+1);this.context.lineTo(_36[0][0],this.Get("chart.gutter.top")+1);}else{if(typeof (_36[i-1][1])=="number"){var _40=this.Get("chart.xaxispos")=="center"?((this.canvas.height-this.gutterTop-this.gutterBottom)/2)+this.gutterTop:this.canvas.height-this.gutterBottom;this.context.lineTo(_35,_40);this.context.lineTo(_36[0][0],_40);}}}this.context.fillStyle=_2f;this.context.fill();this.context.beginPath();}if(navigator.userAgent.match(/Chrome/)&&this.Get("chart.shadow")&&this.Get("chart.chromefix")&&this.Get("chart.shadow.blur")>0){for(var i=_36.length-1;i>=0;--i){if(typeof (_36[i][1])!="number"||(typeof (_36[i+1])=="object"&&typeof (_36[i+1][1])!="number")){this.context.moveTo(_36[i][0],_36[i][1]);}else{this.context.lineTo(_36[i][0],_36[i][1]);}}}this.context.stroke();if(this.Get("chart.backdrop")){this.DrawBackdrop(_36,_2e);}this.RedrawLine(_36,_2e,_30);this.context.stroke();for(var i=0;i<_36.length;++i){i=Number(i);if(_3a&&i==(_36.length-1)){this.context.beginPath();}if((_31!="endcircle"&&_31!="endsquare"&&_31!="filledendsquare"&&_31!="endtick"&&_31!="endtriangle"&&_31!="arrow"&&_31!="filledarrow")||(i==0&&_31!="arrow"&&_31!="filledarrow")||i==(_36.length-1)){var _41=(i<=0?null:_36[i-1][0]);var _3d=(i<=0?null:_36[i-1][1]);this.DrawTick(_2d,_36[i][0],_36[i][1],_2e,false,_41,_3d,_31,i);}}this.context.beginPath();this.context.arc(this.canvas.width+50000,this.canvas.height+50000,2,0,6.38,1);};RGraph.Line.prototype.DrawTick=function(_42,_43,_44,_45,_46,_47,_48,_49,_4a){if((_44==null||_44>(this.canvas.height-this.gutterBottom)||_44<this.gutterTop)&&!this.Get("chart.outofbounds")||!this.Get("chart.line.visible")){return;}this.context.beginPath();var _4b=0;this.context.lineWidth=this.Get("chart.tickmarks.linewidth")?this.Get("chart.tickmarks.linewidth"):this.Get("chart.linewidth");this.context.strokeStyle=_46?this.Get("chart.shadow.color"):this.context.strokeStyle;this.context.fillStyle=_46?this.Get("chart.shadow.color"):this.context.strokeStyle;if(_49=="circle"||_49=="filledcircle"||_49=="endcircle"){if(_49=="circle"||_49=="filledcircle"||(_49=="endcircle")){this.context.beginPath();this.context.arc(_43+_4b,_44+_4b,this.Get("chart.ticksize"),0,360/(180/Math.PI),false);if(_49=="filledcircle"){this.context.fillStyle=_46?this.Get("chart.shadow.color"):this.context.strokeStyle;}else{this.context.fillStyle=_46?this.Get("chart.shadow.color"):"white";}this.context.stroke();this.context.fill();}}else{if(_49=="halftick"){this.context.beginPath();this.context.moveTo(_43,_44);this.context.lineTo(_43,_44+this.Get("chart.ticksize"));this.context.stroke();}else{if(_49=="tick"){this.context.beginPath();this.context.moveTo(_43,_44-this.Get("chart.ticksize"));this.context.lineTo(_43,_44+this.Get("chart.ticksize"));this.context.stroke();}else{if(_49=="endtick"){this.context.beginPath();this.context.moveTo(_43,_44-this.Get("chart.ticksize"));this.context.lineTo(_43,_44+this.Get("chart.ticksize"));this.context.stroke();}else{if(_49=="cross"){this.context.beginPath();this.context.moveTo(_43-this.Get("chart.ticksize"),_44-this.Get("chart.ticksize"));this.context.lineTo(_43+this.Get("chart.ticksize"),_44+this.Get("chart.ticksize"));this.context.moveTo(_43+this.Get("chart.ticksize"),_44-this.Get("chart.ticksize"));this.context.lineTo(_43-this.Get("chart.ticksize"),_44+this.Get("chart.ticksize"));this.context.stroke();}else{if(_49=="triangle"||_49=="filledtriangle"||_49=="endtriangle"){this.context.beginPath();if(_49=="filledtriangle"){this.context.fillStyle=_46?this.Get("chart.shadow.color"):this.context.strokeStyle;}else{this.context.fillStyle="white";}this.context.moveTo(_43-this.Get("chart.ticksize"),_44+this.Get("chart.ticksize"));this.context.lineTo(_43,_44-this.Get("chart.ticksize"));this.context.lineTo(_43+this.Get("chart.ticksize"),_44+this.Get("chart.ticksize"));this.context.closePath();this.context.stroke();this.context.fill();}else{if(_49=="borderedcircle"||_49=="dot"){this.context.lineWidth=1;this.context.strokeStyle=this.Get("chart.tickmarks.dot.color");this.context.fillStyle=this.Get("chart.tickmarks.dot.color");this.context.beginPath();this.context.arc(_43,_44,this.Get("chart.ticksize"),0,360/(180/Math.PI),false);this.context.closePath();this.context.fill();this.context.stroke();this.context.beginPath();this.context.fillStyle=_45;this.context.strokeStyle=_45;this.context.arc(_43,_44,this.Get("chart.ticksize")-2,0,360/(180/Math.PI),false);this.context.closePath();this.context.fill();this.context.stroke();}else{if(_49=="square"||_49=="filledsquare"||(_49=="endsquare")||(_49=="filledendsquare")){this.context.fillStyle="white";this.context.strokeStyle=this.context.strokeStyle;this.context.beginPath();this.context.strokeRect(_43-this.Get("chart.ticksize"),_44-this.Get("chart.ticksize"),this.Get("chart.ticksize")*2,this.Get("chart.ticksize")*2);if(_49=="filledsquare"||_49=="filledendsquare"){this.context.fillStyle=_46?this.Get("chart.shadow.color"):this.context.strokeStyle;this.context.fillRect(_43-this.Get("chart.ticksize"),_44-this.Get("chart.ticksize"),this.Get("chart.ticksize")*2,this.Get("chart.ticksize")*2);}else{if(_49=="square"||_49=="endsquare"){this.context.fillStyle=_46?this.Get("chart.shadow.color"):"white";this.context.fillRect((_43-this.Get("chart.ticksize"))+1,(_44-this.Get("chart.ticksize"))+1,(this.Get("chart.ticksize")*2)-2,(this.Get("chart.ticksize")*2)-2);}}this.context.stroke();this.context.fill();}else{if(_49=="filledarrow"){var x=Math.abs(_43-_47);var y=Math.abs(_44-_48);if(_44<_48){var a=Math.atan(x/y)+1.57;}else{var a=Math.atan(y/x)+3.14;}this.context.beginPath();this.context.moveTo(_43,_44);this.context.arc(_43,_44,7,a-0.5,a+0.5,false);this.context.closePath();this.context.stroke();this.context.fill();}else{if(_49=="arrow"){var x=Math.abs(_43-_47);var y=Math.abs(_44-_48);var _4c=this.context.lineWidth;if(_44<_48){var a=Math.atan(x/y)+1.57;}else{var a=Math.atan(y/x)+3.14;}this.context.beginPath();this.context.moveTo(_43,_44);this.context.arc(_43,_44,7,a-0.5-(document.all?0.1:0.01),a-0.4,false);this.context.moveTo(_43,_44);this.context.arc(_43,_44,7,a+0.5+(document.all?0.1:0.01),a+0.5,true);this.context.stroke();this.context.fill();this.context.lineWidth=_4c;}else{if(typeof (_49)=="function"){_49(this,_42,_42[_4a],_4a,_43,_44,_45,_47,_48);}}}}}}}}}}}};RGraph.Line.prototype.DrawRange=function(){if(this.Get("chart.filled.range")&&this.Get("chart.filled")){this.context.beginPath();this.context.fillStyle=this.Get("chart.fillstyle");this.context.strokeStyle=this.Get("chart.fillstyle");this.context.lineWidth=1;var len=(this.coords.length/2);for(var i=0;i<len;++i){if(i==0){this.context.moveTo(this.coords[i][0],this.coords[i][1]);}else{this.context.lineTo(this.coords[i][0],this.coords[i][1]);}}for(var i=this.coords.length-1;i>=len;--i){this.context.lineTo(this.coords[i][0],this.coords[i][1]);}this.context.stroke();this.context.fill();}};RGraph.Line.prototype.RedrawLine=function(_4d,_4e,_4f){if(this.Get("chart.noredraw")){return;}this.context.strokeStyle=(typeof (_4e)=="object"&&_4e?_4e[0]:_4e);this.context.lineWidth=_4f;if(!this.Get("chart.line.visible")){this.context.strokeStyle="rgba(0,0,0,0)";}if(this.Get("chart.curvy")){this.DrawCurvyLine(_4d,!this.Get("chart.line.visible")?"rgba(0,0,0,0)":_4e,_4f);return;}this.context.beginPath();var len=_4d.length;var _50=this.canvas.width;var _51=this.canvas.height;var _52=false;for(var i=0;i<len;++i){var _53=_4d[i][0];var _54=_4d[i][1];if(i>0){var _55=_4d[i-1][0];var _56=_4d[i-1][1];}if(((i==0&&_4d[i])||(_54<this.gutterTop)||(_56<this.gutterTop)||(_54>(_51-this.gutterBottom))||(i>0&&_55>(_50-this.gutterRight))||(i>0&&_56>(_51-this.gutterBottom))||_56==null||_52==true)&&(!this.Get("chart.outofbounds")||_54==null||_56==null)){if(RGraph.isOld()&&_54==null){}else{this.context.moveTo(_4d[i][0],_4d[i][1]);}_52=false;}else{if(this.Get("chart.stepped")&&i>0){this.context.lineTo(_4d[i][0],_4d[i-1][1]);}this.context.lineTo(_4d[i][0],_4d[i][1]);_52=false;}}if(this.Get("chart.colors.alternate")&&typeof (_4e)=="object"&&_4e[0]&&_4e[1]){for(var i=1;i<len;++i){var _55=_4d[i-1][0];var _56=_4d[i-1][1];this.context.beginPath();this.context.strokeStyle=_4e[_4d[i][1]<_56?0:1];this.context.lineWidth=this.Get("chart.linewidth");this.context.moveTo(_55,_56);this.context.lineTo(_4d[i][0],_4d[i][1]);this.context.stroke();}}};RGraph.Line.prototype.DrawIEShadow=function(_57,_58){var _59=this.Get("chart.shadow.offsetx");var _5a=this.Get("chart.shadow.offsety");this.context.lineWidth=this.Get("chart.linewidth");this.context.strokeStyle=_58;this.context.beginPath();for(var i=0;i<_57.length;++i){if(i==0){this.context.moveTo(_57[i][0]+_59,_57[i][1]+_5a);}else{this.context.lineTo(_57[i][0]+_59,_57[i][1]+_5a);}}this.context.stroke();};RGraph.Line.prototype.DrawBackdrop=function(_5b,_5c){var _5d=this.Get("chart.backdrop.size");this.context.lineWidth=_5d;this.context.globalAlpha=this.Get("chart.backdrop.alpha");this.context.strokeStyle=_5c;this.context.lineJoin="miter";this.context.beginPath();this.context.moveTo(_5b[0][0],_5b[0][1]);for(var j=1;j<_5b.length;++j){this.context.lineTo(_5b[j][0],_5b[j][1]);}this.context.stroke();this.context.globalAlpha=1;this.context.lineJoin="round";RGraph.NoShadow(this);};RGraph.Line.prototype.GetLineWidth=function(i){var _5e=this.Get("chart.linewidth");if(typeof (_5e)=="number"){return _5e;}else{if(typeof (_5e)=="object"){if(_5e[i]){return _5e[i];}else{return _5e[0];}alert("[LINE] Error! chart.linewidth should be a single number or an array of one or more numbers");}}};RGraph.Line.prototype.getShape=RGraph.Line.prototype.getPoint=function(e){var _5f=e.target;var obj=this;var _60=obj.context;var _61=RGraph.getMouseXY(e);var _62=_61[0];var _63=_61[1];if(arguments[1]){obj=arguments[1];}for(var i=0;i<obj.coords.length;++i){var x=obj.coords[i][0];var y=obj.coords[i][1];if(_62<=(x+5)&&_62>=(x-5)&&_63<=(y+5)&&_63>=(y-5)){var _64=RGraph.parseTooltipText(this.Get("chart.tooltips"),i);var _65=0;var idx=i;while((idx+1)>this.data[_65].length){idx-=this.data[_65].length;_65++;}return {0:obj,1:x,2:y,3:i,"object":obj,"x":x,"y":y,"index":i,"tooltip":_64,"dataset":_65,"index_adjusted":idx};}else{if(obj.Get("chart.tooltips.hotspot.xonly")==true&&_62<=(x+5)&&_62>=(x-5)){var _64=RGraph.parseTooltipText(this.Get("chart.tooltips"),i);return {0:obj,1:x,2:y,3:i,"object":obj,"x":x,"y":y,"index":i,"tooltip":_64};}}}};RGraph.Line.prototype.DrawAboveLabels=function(){var _66=this.context;var _67=this.Get("chart.labels.above.size");var _68=this.Get("chart.text.font");var _69=this.Get("chart.units.pre");var _6a=this.Get("chart.units.post");_66.beginPath();for(var i=0;i<this.coords.length;++i){var _6b=this.coords[i];RGraph.Text(_66,_68,_67,_6b[0],_6b[1]-5-_67,RGraph.number_format(this,this.data_arr[i],_69,_6a),"center","center",true,null,"rgba(255, 255, 255, 0.7)");}_66.fill();};RGraph.Line.prototype.DrawCurvyLine=function(_6c,_6d,_6e){var co=this.context;co.beginPath();co.strokeStyle=_6d;co.lineWidth=_6e;for(var i=0;i<_6c.length;++i){var _6f=this.Get("chart.curvy.factor");if(_6c[i]&&typeof (_6c[i][1])=="number"&&_6c[i+1]&&typeof (_6c[i+1][1])=="number"){var _70=_6c[i][0];var _71=_6c[i][1];var _72=_6c[i+1][0];var _73=_6c[i+1][1];var _74=_6c[i-1]?_6c[i-1][0]:null;var _75=_6c[i-1]?_6c[i-1][1]:null;var _76=(_6c[i+1][0]-_6c[i][0])*_6f;var _77=(_6c[i+1][1]-_6c[i][1])*_6f;if(i==0){co.moveTo(_70,_71);co.lineTo(_72-_76,_73-_77);}else{if(_73==null){co.lineTo(_70,_71);}else{if(_75==null){co.moveTo(_70,_71);}else{if(_71==null){co.moveTo(_72,_73);}else{co.quadraticCurveTo(_70,_71,_70+_76,_71+_77);if(_73){co.lineTo(_72-_76,_73-_77);}else{co.lineTo(_70,_71);}}}}}}else{if(typeof (_6c[i][1])=="number"){co.lineTo(_6c[i][0],_6c[i][1]);}}}co.stroke();};RGraph.Line.prototype.getValue=function(arg){if(arg.length==2){var _78=arg[0];var _79=arg[1];}else{var _7a=RGraph.getMouseXY(arg);var _78=_7a[0];var _79=_7a[1];}var obj=this;if(_79<obj.Get("chart.gutter.top")||_79>(obj.canvas.height-obj.Get("chart.gutter.bottom"))||_78<obj.Get("chart.gutter.left")||_78>(obj.canvas.width-obj.Get("chart.gutter.right"))){return null;}if(this.Get("chart.xaxispos")=="center"){var _7b=(((obj.grapharea/2)-(_79-obj.Get("chart.gutter.top")))/obj.grapharea)*(obj.max-obj.min);_7b*=2;return _7b;}else{if(this.Get("chart.xaxispos")=="top"){var _7b=((obj.grapharea-(_79-obj.Get("chart.gutter.top")))/obj.grapharea)*(obj.max-obj.min);_7b=Math.abs(obj.max-_7b)*-1;return _7b;}else{var _7b=((obj.grapharea-(_79-obj.Get("chart.gutter.top")))/obj.grapharea)*(obj.max-obj.min);_7b+=obj.min;return _7b;}}};RGraph.Line.prototype.Highlight=function(_7c){if(this.Get("chart.tooltips.highlight")){RGraph.Highlight.Point(this,_7c);}};RGraph.Line.prototype.getObjectByXY=function(e){var _7d=RGraph.getMouseXY(e);if(_7d[0]>this.Get("chart.gutter.left")&&_7d[0]<(this.canvas.width-this.Get("chart.gutter.right"))&&_7d[1]>this.Get("chart.gutter.top")&&_7d[1]<(this.canvas.height-this.Get("chart.gutter.bottom"))){return this;}};RGraph.Line.prototype.Adjusting_mousemove=function(e){if(RGraph.Registry.Get("chart.adjusting")&&RGraph.Registry.Get("chart.adjusting").uid==this.uid){var _7e=Number(this.getValue(e));var _7f=RGraph.Registry.Get("chart.adjusting.shape");if(_7f){RGraph.Registry.Set("chart.adjusting.shape",_7f);this.original_data[_7f["dataset"]][_7f["index_adjusted"]]=Number(_7e);RGraph.RedrawCanvas(e.target);RGraph.FireCustomEvent(this,"onadjust");}}};if(typeof (RGraph)=="undefined"){RGraph={};}RGraph.Pie=function(id,_1){this.id=id;this.canvas=document.getElementById(id);this.context=this.canvas.getContext("2d");this.canvas.__object__=this;this.total=0;this.subTotal=0;this.angles=[];this.data=_1;this.properties=[];this.type="pie";this.isRGraph=true;this.coords=[];this.coords.key=[];this.uid=RGraph.CreateUID();this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID();RGraph.OldBrowserCompat(this.context);this.properties={"chart.colors":["red","#ddd","#0f0","blue","pink","yellow","black","cyan"],"chart.strokestyle":"#999","chart.linewidth":1,"chart.labels":[],"chart.labels.sticks":false,"chart.labels.sticks.length":7,"chart.labels.sticks.color":"#aaa","chart.segments":[],"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":0.5,"chart.title.bold":true,"chart.title.font":null,"chart.shadow":false,"chart.shadow.color":"rgba(0,0,0,0.5)","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":3,"chart.text.size":10,"chart.text.color":"black","chart.text.font":"Arial","chart.contextmenu":null,"chart.tooltips":null,"chart.tooltips.event":"onclick","chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.highlight":true,"chart.highlight.style":"2d","chart.highlight.style.2d.fill":"rgba(255,255,255,0.7)","chart.highlight.style.2d.stroke":"rgba(255,255,255,0.7)","chart.centerx":null,"chart.centery":null,"chart.radius":null,"chart.border":false,"chart.border.color":"rgba(255,255,255,0.5)","chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":"right","chart.key.shadow":false,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":true,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":true,"chart.key.linewidth":1,"chart.key.colors":null,"chart.annotatable":false,"chart.annotate.color":"black","chart.align":"center","chart.zoom.factor":1.5,"chart.zoom.fade.in":true,"chart.zoom.fade.out":true,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":true,"chart.zoom.background":true,"chart.zoom.action":"zoom","chart.resizable":false,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.variant":"pie","chart.variant.donut.color":"white","chart.exploded":[],"chart.effect.roundrobin.multiplier":1,"chart.events.click":null,"chart.events.mousemove":null,"chart.centerx":null,"chart.centery":null,"chart.radius":null};for(var i=0,_2=_1.length;i<_2;i++){this.total+=_1[i];}RGraph.Register(this);};RGraph.Pie.prototype.Set=function(_3,_4){if(_3=="chart.highlight.style.2d.color"){_3="chart.highlight.style.2d.fill";}this.properties[_3]=_4;};RGraph.Pie.prototype.Get=function(_5){if(_5=="chart.highlight.style.2d.color"){_5="chart.highlight.style.2d.fill";}return this.properties[_5];};RGraph.Pie.prototype.Draw=function(){RGraph.FireCustomEvent(this,"onbeforedraw");this.gutterLeft=this.Get("chart.gutter.left");this.gutterRight=this.Get("chart.gutter.right");this.gutterTop=this.Get("chart.gutter.top");this.gutterBottom=this.Get("chart.gutter.bottom");this.radius=this.getRadius();this.centerx=(this.graph.width/2)+this.gutterLeft;this.centery=(this.graph.height/2)+this.gutterTop;this.subTotal=0;this.angles=[];if(typeof (this.Get("chart.radius"))=="number"){this.radius=this.Get("chart.radius");}if(typeof (this.Get("chart.centerx"))=="number"){this.centerx=this.Get("chart.centerx");}if(typeof (this.Get("chart.centery"))=="number"){this.centery=this.Get("chart.centery");}if(this.radius<=0){return;}RGraph.DrawTitle(this,this.Get("chart.title"),(this.canvas.height/2)-this.radius-5,this.centerx,this.Get("chart.title.size")?this.Get("chart.title.size"):this.Get("chart.text.size")+2);if(this.Get("chart.shadow")&&0){var _6=document.all?this.Get("chart.shadow.offsetx"):0;var _7=document.all?this.Get("chart.shadow.offsety"):0;this.context.beginPath();this.context.fillStyle=this.Get("chart.shadow.color");this.context.shadowColor=this.Get("chart.shadow.color");this.context.shadowBlur=this.Get("chart.shadow.blur");this.context.shadowOffsetX=this.Get("chart.shadow.offsetx");this.context.shadowOffsetY=this.Get("chart.shadow.offsety");this.context.arc(this.centerx+_6,this.centery+_7,this.radius,0,6.28,0);this.context.fill();RGraph.NoShadow(this);}this.total=RGraph.array_sum(this.data);for(var i=0,_8=this.data.length;i<_8;i++){var _9=((this.data[i]/this.total)*(Math.PI*2));this.DrawSegment(_9,this.Get("chart.colors")[i],i==(this.data.length-1),i);}RGraph.NoShadow(this);this.DrawBorders();for(var i=0;i<this.angles.length;i++){this.context.beginPath();this.context.strokeStyle=typeof (this.Get("chart.strokestyle"))=="object"?this.Get("chart.strokestyle")[i]:this.Get("chart.strokestyle");this.context.fillStyle=this.Get("chart.colors")[i];this.context.arc(this.angles[i][2],this.angles[i][3],this.radius,(this.angles[i][0]),(this.angles[i][1]),false);if(this.Get("chart.variant")=="donut"){this.context.arc(this.angles[i][2],this.angles[i][3],this.radius/2,(this.angles[i][1]),(this.angles[i][0]),true);}else{this.context.lineTo(this.angles[i][2],this.angles[i][3]);}this.context.closePath();this.context.stroke();this.context.fill();}if(this.Get("chart.labels.sticks")){this.DrawSticks();var _a=this.Get("chart.strokestyle");var _b=_a=="white"||_a=="#fff"||_a=="#fffffff"||_a=="rgb(255,255,255)"||_a=="rgba(255,255,255,0)";if(!_b||(_b&&this.Get("chart.shadow"))){this.DrawBorders();}}this.DrawLabels();if(this.Get("chart.contextmenu")){RGraph.ShowContext(this);}if(this.Get("chart.border")){this.context.beginPath();this.context.lineWidth=5;this.context.strokeStyle=this.Get("chart.border.color");this.context.arc(this.centerx,this.centery,this.radius-2,0,6.28,0);this.context.stroke();}if(this.Get("chart.key")!=null){RGraph.DrawKey(this,this.Get("chart.key"),this.Get("chart.colors"));}RGraph.NoShadow(this);if(this.Get("chart.resizable")){RGraph.AllowResizing(this);}RGraph.InstallEventListeners(this);RGraph.FireCustomEvent(this,"ondraw");};RGraph.Pie.prototype.DrawSegment=function(_c,_d,_e,_f){var _10=this.context;var _11=this.canvas;var _12=this.subTotal;_c=_c*this.Get("chart.effect.roundrobin.multiplier");_10.beginPath();_10.fillStyle=_d;_10.strokeStyle=this.Get("chart.strokestyle");_10.lineWidth=0;if(this.Get("chart.shadow")){RGraph.SetShadow(this,this.Get("chart.shadow.color"),this.Get("chart.shadow.offsetx"),this.Get("chart.shadow.offsety"),this.Get("chart.shadow.blur"));}if((typeof (this.Get("chart.exploded"))=="object"&&this.Get("chart.exploded")[_f]>0)||typeof (this.Get("chart.exploded"))=="number"){var _13=typeof (this.Get("chart.exploded"))=="number"?this.Get("chart.exploded"):this.Get("chart.exploded")[_f];var x=0;var y=0;var h=_13;var t=(_12+(_c/2))-1.57;var x=(Math.cos(t)*_13);var y=(Math.sin(t)*_13);this.context.moveTo(this.centerx+x,this.centery+y);}else{var x=0;var y=0;}var _14=(_12)-1.57;var _15=(((_12+_c)))-1.57;_10.arc(this.centerx+x,this.centery+y,this.radius,_14,_15,0);if(this.Get("chart.variant")=="donut"){_10.arc(this.centerx+x,this.centery+y,(this.radius/2),_15,_14,true);}else{_10.lineTo(this.centerx+x,this.centery+y);}this.context.closePath();this.angles.push([_12-(Math.PI/2),_12+_c-(Math.PI/2),this.centerx+x,this.centery+y]);this.context.fill();this.Get("chart.segments").push([_12,_12+_c]);this.subTotal+=_c;};RGraph.Pie.prototype.DrawLabels=function(){var _16="left";var _17="center";var _18=this.Get("chart.labels");var _19=this.context;RGraph.NoShadow(this);_19.fillStyle="black";_19.beginPath();if(_18&&_18.length){var _1a=this.Get("chart.text.size");for(i=0;i<_18.length;++i){if(typeof (this.angles)=="undefined"){continue;}_19.moveTo(this.centerx,this.centery);var a=this.angles[i][0]+((this.angles[i][1]-this.angles[i][0])/2);if(a<(Math.PI/2)){_16="left";_17="center";}else{if(a<(Math.PI*2)){_16="right";_17="center";}else{if(a<(Math.PI*1.5)){_16="right";_17="center";}else{if(a<(Math.PI*2)){_16="left";_17="center";}}}}var _1b=((this.angles[i][1]-this.angles[i][0])/2)+this.angles[i][0];if(typeof (this.Get("chart.exploded"))=="object"&&this.Get("chart.exploded")[i]||typeof (this.Get("chart.exploded"))=="number"){var t=((this.angles[i][1]-this.angles[i][0])/2);var _1c=typeof (this.Get("chart.exploded"))=="number"?this.Get("chart.exploded"):this.Get("chart.exploded")[i];var _1d=(Math.cos(_1b)*_1c);var _1e=(Math.sin(_1b)*_1c);}else{var _1d=0;var _1e=0;}if(this.Get("chart.labels.sticks")){_1d+=(Math.cos(_1b)*this.Get("chart.labels.sticks.length"));_1e+=(Math.sin(_1b)*this.Get("chart.labels.sticks.length"));}_19.fillStyle=this.Get("chart.text.color");RGraph.Text(_19,this.Get("chart.text.font"),_1a,this.centerx+_1d+((this.radius+10)*Math.cos(a))+(this.Get("chart.labels.sticks")?(a<1.57||a>4.71?2:-2):0),this.centery+_1e+(((this.radius+10)*Math.sin(a))),_18[i],_17,_16);}_19.fill();}};RGraph.Pie.prototype.DrawSticks=function(){var _1f=this.context;var _20=this.Get("chart.linewidth")/2;var _21=this.Get("chart.exploded");var _22=this.Get("chart.labels.sticks");for(var i=0;i<this.angles.length;++i){if(typeof (_22)=="object"&&!_22[i]){continue;}var _23=this.angles[i][1]-this.angles[i][0];_1f.beginPath();_1f.strokeStyle=this.Get("chart.labels.sticks.color");_1f.lineWidth=1;var _24=(this.angles[i][0]+(_23/2));if(typeof (_21)=="object"&&_21[i]){var _25=_21[i];}else{if(typeof (_21)=="number"){var _25=_21;}else{var _25=0;}}_1f.lineJoin="round";_1f.lineWidth=1;_1f.arc(this.centerx,this.centery,this.radius+this.Get("chart.labels.sticks.length")+_25,_24,_24+0.001,0);_1f.arc(this.centerx,this.centery,this.radius+_25,_24,_24+0.001,0);_1f.stroke();}};RGraph.Pie.prototype.getShape=RGraph.Pie.prototype.getSegment=function(e){RGraph.FixEventObject(e);var _26=arguments[1]?arguments[1]:0;var _27=this.canvas;var _28=this.context;var _29=RGraph.getMouseXY(e);var r=this.radius;var _2a=this.angles;var ret=[];for(var i=0;i<_2a.length;++i){var x=_29[0]-_2a[i][2];var y=_29[1]-_2a[i][3];var _2b=Math.atan(y/x);var hyp=y==0?x:y/Math.sin(_2b);var hyp=(hyp<0)?hyp+_26:hyp-_26;if(x<0&&y>=0){_2b+=Math.PI;}else{if(x<0&&y<0){_2b+=Math.PI;}}if(_2b>(2*Math.PI)){_2b-=(2*Math.PI);}if(_2b>=_2a[i][0]&&_2b<_2a[i][1]){hyp=Math.abs(hyp);if(!hyp||(this.radius&&hyp>this.radius)){return null;}if(this.type=="pie"&&this.Get("chart.variant")=="donut"&&(hyp>this.radius||hyp<(this.radius/2))){return null;}ret[0]=_2a[i][2];ret[1]=_2a[i][3];ret[2]=this.radius;ret[3]=_2a[i][0]-(2*Math.PI);ret[4]=_2a[i][1];ret[5]=i;if(ret[3]<0){ret[3]+=(2*Math.PI);}if(ret[4]>(2*Math.PI)){ret[4]-=(2*Math.PI);}ret[3]=ret[3];ret[4]=ret[4];var _2c=RGraph.parseTooltipText?RGraph.parseTooltipText(this.Get("chart.tooltips"),ret[5]):null;ret["object"]=this;ret["x"]=ret[0];ret["y"]=ret[1];ret["radius"]=ret[2];ret["angle.start"]=ret[3];ret["angle.end"]=ret[4];ret["index"]=ret[5];ret["tooltip"]=_2c;return ret;}}return null;};RGraph.Pie.prototype.DrawBorders=function(){if(this.Get("chart.linewidth")>0){this.context.lineWidth=this.Get("chart.linewidth");this.context.strokeStyle=this.Get("chart.strokestyle");for(var i=0,len=this.angles.length;i<len;++i){this.context.beginPath();this.context.arc(this.angles[i][2],this.angles[i][3],this.radius,(this.angles[i][0]),(this.angles[i][0]+0.001),0);this.context.arc(this.angles[i][2],this.angles[i][3],this.Get("chart.variant")=="donut"?this.radius/2:this.radius,this.angles[i][0],this.angles[i][0]+0.0001,0);this.context.closePath();this.context.stroke();}}};RGraph.Pie.prototype.getRadius=function(){this.graph={};this.graph.width=this.canvas.width-this.Get("chart.gutter.left")-this.Get("chart.gutter.right");this.graph.height=this.canvas.height-this.Get("chart.gutter.top")-this.Get("chart.gutter.bottom");if(typeof (this.Get("chart.radius"))=="number"){this.radius=this.Get("chart.radius");}else{this.radius=Math.min(this.graph.width,this.graph.height)/2;}return this.radius;};RGraph.Pie.prototype.Explode=function(_2d,_2e){var obj=this;this.Set("chart.exploded",[]);this.Get("chart.exploded")[_2d]=0;for(var o=0;o<_2e;++o){setTimeout(function(){obj.Get("chart.exploded")[_2d]+=1;RGraph.Clear(obj.canvas);RGraph.Redraw();},o*(document.all?25:16.666));}};RGraph.Pie.prototype.highlight_segment=function(_2f){var _30=this.context;_30.beginPath();_30.strokeStyle=this.Get("chart.highlight.style.2d.stroke");_30.fillStyle=this.Get("chart.highlight.style.2d.fill");_30.moveTo(_2f[0],_2f[1]);_30.arc(_2f[0],_2f[1],_2f[2],this.angles[_2f[5]][0],this.angles[_2f[5]][1],0);_30.lineTo(_2f[0],_2f[1]);_30.closePath();_30.stroke();_30.fill();};RGraph.Pie.prototype.Highlight=function(_31){if(this.Get("chart.tooltips.highlight")){if(this.Get("chart.highlight.style")=="3d"){this.context.lineWidth=1;var _32=2;this.context.beginPath();RGraph.NoShadow(this);this.context.fillStyle="rgba(0,0,0,0)";this.context.arc(_31["x"],_31["y"],_31["radius"],_31["angle.start"],_31["angle.end"],false);if(this.Get("chart.variant")=="donut"){this.context.arc(_31["x"],_31["y"],_31["radius"]/5,_31["angle.end"],_31["angle.start"],true);}else{this.context.lineTo(_31["x"],_31["y"]);}this.context.closePath();this.context.fill();this.context.beginPath();this.context.shadowColor="#666";this.context.shadowBlur=3;this.context.shadowOffsetX=3;this.context.shadowOffsetY=3;this.context.fillStyle=this.Get("chart.colors")[_31["index"]];this.context.strokeStyle=this.Get("chart.strokestyle");this.context.arc(_31["x"]-_32,_31["y"]-_32,_31["radius"],_31["angle.start"],_31["angle.end"],false);if(this.Get("chart.variant")=="donut"){this.context.arc(_31["x"]-_32,_31["y"]-_32,_31["radius"]/2,_31["angle.end"],_31["angle.start"],true);}else{this.context.lineTo(_31["x"]-_32,_31["y"]-_32);}this.context.closePath();this.context.stroke();this.context.fill();RGraph.NoShadow(this);if(this.Get("chart.border")){this.context.beginPath();this.context.strokeStyle=obj.Get("chart.border.color");this.context.lineWidth=5;this.context.arc(_31["x"]-_32,_31["y"]-_32,_31["radius"]-2,_31["angle.start"],_31["angle.end"],false);this.context.stroke();}}else{this.context.beginPath();this.context.strokeStyle=this.Get("chart.highlight.style.2d.stroke");this.context.fillStyle=this.Get("chart.highlight.style.2d.fill");if(this.Get("chart.variant")=="donut"){this.context.arc(_31["x"],_31["y"],_31["radius"],_31["angle.start"],_31["angle.end"],false);this.context.arc(_31["x"],_31["y"],_31["radius"]/2,_31["angle.end"],_31["angle.start"],true);}else{this.context.arc(_31["x"],_31["y"],_31["radius"],_31["angle.start"],_31["angle.end"],false);this.context.lineTo(_31["x"],_31["y"]);}this.context.closePath();this.context.stroke();this.context.fill();}}};RGraph.Pie.prototype.getObjectByXY=function(e){if(this.getShape(e)){return this;}};if(typeof (RGraph)=="undefined"){RGraph={};}RGraph.Bar=function(id,_1){this.id=id;this.canvas=document.getElementById(id);this.context=this.canvas.getContext?this.canvas.getContext("2d"):null;this.canvas.__object__=this;this.type="bar";this.max=0;this.stackedOrGrouped=false;this.isRGraph=true;this.uid=RGraph.CreateUID();this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID();RGraph.OldBrowserCompat(this.context);this.properties={"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid":true,"chart.background.grid.color":"#ddd","chart.background.grid.width":1,"chart.background.grid.hsize":20,"chart.background.grid.vsize":20,"chart.background.grid.vlines":true,"chart.background.grid.hlines":true,"chart.background.grid.border":true,"chart.background.grid.autofit":true,"chart.background.grid.autofit.numhlines":5,"chart.background.grid.autofit.numvlines":20,"chart.background.image.stretch":true,"chart.background.image.x":null,"chart.background.image.y":null,"chart.background.image.w":null,"chart.background.image.h":null,"chart.background.image.align":null,"chart.ytickgap":20,"chart.smallyticks":3,"chart.largeyticks":5,"chart.numyticks":10,"chart.hmargin":5,"chart.strokecolor":"#666","chart.axis.color":"black","chart.gutter.top":25,"chart.gutter.bottom":25,"chart.gutter.left":25,"chart.gutter.right":25,"chart.labels":null,"chart.labels.ingraph":null,"chart.labels.above":false,"chart.labels.above.decimals":0,"chart.labels.above.size":null,"chart.labels.above.angle":null,"chart.ylabels":true,"chart.ylabels.count":5,"chart.ylabels.inside":false,"chart.xlabels.offset":0,"chart.xaxispos":"bottom","chart.yaxispos":"left","chart.text.color":"black","chart.text.size":10,"chart.text.angle":0,"chart.text.font":"Arial","chart.ymin":0,"chart.ymax":null,"chart.title":"","chart.title.font":null,"chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":true,"chart.title.xaxis":"","chart.title.xaxis.bold":true,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":true,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":null,"chart.colors":["rgb(0,0,255)","#0f0","#00f","#ff0","#0ff","#0f0"],"chart.colors.sequential":false,"chart.colors.reverse":false,"chart.grouping":"grouped","chart.variant":"bar","chart.shadow":false,"chart.shadow.color":"#666","chart.shadow.offsetx":3,"chart.shadow.offsety":3,"chart.shadow.blur":3,"chart.tooltips":null,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onclick","chart.tooltips.highlight":true,"chart.highlight.stroke":"rgba(0,0,0,0)","chart.highlight.fill":"rgba(255,255,255,0.7)","chart.background.hbars":null,"chart.key":[],"chart.key.background":"white","chart.key.position":"graph","chart.key.shadow":false,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":true,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.halign":"right","chart.key.color.shape":"square","chart.key.rounded":true,"chart.key.text.size":10,"chart.key.linewidth":1,"chart.key.colors":null,"chart.contextmenu":null,"chart.units.pre":"","chart.units.post":"","chart.scale.decimals":0,"chart.scale.point":".","chart.scale.thousand":",","chart.crosshairs":false,"chart.crosshairs.color":"#333","chart.crosshairs.hline":true,"chart.crosshairs.vline":true,"chart.linewidth":1,"chart.annotatable":false,"chart.annotate.color":"black","chart.zoom.factor":1.5,"chart.zoom.fade.in":true,"chart.zoom.fade.out":true,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":true,"chart.zoom.background":true,"chart.resizable":false,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.adjustable":false,"chart.noaxes":false,"chart.noxaxis":false,"chart.noyaxis":false,"chart.events.click":null,"chart.events.mousemove":null,"chart.numxticks":null};if(!this.canvas){alert("[BAR] No canvas support");return;}for(i=0;i<_1.length;++i){if(typeof (_1[i])=="object"){this.stackedOrGrouped=true;}}this.data=_1;this.coords=[];this.data_arr=RGraph.array_linearize(this.data);RGraph.Register(this);};RGraph.Bar.prototype.Set=function(_2,_3){_2=_2.toLowerCase();if(_2=="chart.labels.abovebar"){_2="chart.labels.above";}if(_2=="chart.strokestyle"){_2="chart.strokecolor";}if(_2=="chart.xaxispos"){if(_3!="bottom"&&_3!="center"&&_3!="top"){alert("[BAR] ("+this.id+") chart.xaxispos should be top, center or bottom. Tried to set it to: "+_3+" Changing it to center");_3="center";}if(_3=="top"){for(var i=0;i<this.data.length;++i){if(typeof (this.data[i])=="number"&&this.data[i]>0){alert("[BAR] The data element with index "+i+" should be negative");}}}}if(_2.toLowerCase()=="chart.linewidth"&&_3==0){_3=0.0001;}this.properties[_2]=_3;};RGraph.Bar.prototype.Get=function(_4){if(_4=="chart.labels.abovebar"){_4="chart.labels.above";}var _5=this.properties[_4];return _5;};RGraph.Bar.prototype.Draw=function(){if(typeof (this.Get("chart.background.image"))=="string"){RGraph.DrawBackgroundImage(this);}RGraph.FireCustomEvent(this,"onbeforedraw");this.gutterLeft=this.Get("chart.gutter.left");this.gutterRight=this.Get("chart.gutter.right");this.gutterTop=this.Get("chart.gutter.top");this.gutterBottom=this.Get("chart.gutter.bottom");for(var i=0;i<this.data.length;++i){if(this.data[i]==null){this.data[i]=0;}}if((this.Get("chart.variant")=="pyramid"||this.Get("chart.variant")=="dot")&&typeof (this.Get("chart.tooltips"))=="object"&&this.Get("chart.tooltips")&&this.Get("chart.tooltips").length>0){alert("[BAR] ("+this.id+") Sorry, tooltips are not supported with dot or pyramid charts");}this.coords=[];this.max=0;this.grapharea=RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom;this.halfgrapharea=this.grapharea/2;this.halfTextHeight=this.Get("chart.text.size")/2;RGraph.background.Draw(this);if(this.Get("chart.variant")=="sketch"){this.DrawAxes();this.Drawbars();}else{this.Drawbars();this.DrawAxes();}this.DrawLabels();if(this.Get("chart.key").length){RGraph.DrawKey(this,this.Get("chart.key"),this.Get("chart.colors"));}if(this.Get("chart.contextmenu")){RGraph.ShowContext(this);}if(this.Get("chart.labels.ingraph")){RGraph.DrawInGraphLabels(this);}if(this.Get("chart.resizable")){RGraph.AllowResizing(this);}RGraph.InstallEventListeners(this);RGraph.FireCustomEvent(this,"ondraw");};RGraph.Bar.prototype.DrawAxes=function(){if(this.Get("chart.noaxes")){return;}var _6=this.Get("chart.xaxispos");var _7=this.Get("chart.yaxispos");this.context.beginPath();this.context.strokeStyle=this.Get("chart.axis.color");this.context.lineWidth=1;if(this.Get("chart.noyaxis")==false){if(_7=="right"){this.context.moveTo(AA(this,this.canvas.width-this.gutterRight),this.gutterTop);this.context.lineTo(AA(this,this.canvas.width-this.gutterRight),this.canvas.height-this.gutterBottom);}else{this.context.moveTo(AA(this,this.gutterLeft),this.gutterTop);this.context.lineTo(AA(this,this.gutterLeft),this.canvas.height-this.gutterBottom);}}if(this.Get("chart.noxaxis")==false){if(_6=="center"){this.context.moveTo(this.gutterLeft,AA(this,((this.canvas.height-this.gutterTop-this.gutterBottom)/2)+this.gutterTop));this.context.lineTo(this.canvas.width-this.gutterRight,AA(this,((this.canvas.height-this.gutterTop-this.gutterBottom)/2)+this.gutterTop));}else{if(_6=="top"){this.context.moveTo(this.gutterLeft,AA(this,this.gutterTop));this.context.lineTo(this.canvas.width-this.gutterRight,AA(this,this.gutterTop));}else{this.context.moveTo(this.gutterLeft,AA(this,this.canvas.height-this.gutterBottom));this.context.lineTo(this.canvas.width-this.gutterRight,AA(this,this.canvas.height-this.gutterBottom));}}}var _8=this.Get("chart.numyticks");if(this.Get("chart.noyaxis")==false){var _9=(RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom)/_8;var _a=_7=="left"?this.gutterLeft:RGraph.GetWidth(this)-this.gutterRight;for(y=this.gutterTop;_6=="center"?y<=(RGraph.GetHeight(this)-this.gutterBottom):y<(RGraph.GetHeight(this)-this.gutterBottom+(_6=="top"?1:0));y+=_9){if(_6=="center"&&y==(RGraph.GetHeight(this)/2)){continue;}if(_6=="top"&&y==this.gutterTop){continue;}this.context.moveTo(_a,AA(this,y));this.context.lineTo(_a+(_7=="left"?-3:3),AA(this,y));}if(this.Get("chart.noxaxis")){if(_6=="center"){this.context.moveTo(_a+(_7=="left"?-3:3),AA(this,this.canvas.height/2));this.context.lineTo(_a,AA(this,RGraph.GetHeight(this)/2));}else{if(_6=="top"){this.context.moveTo(_a+(_7=="left"?-3:3),AA(this,this.gutterTop));this.context.lineTo(_a,AA(this,this.gutterTop));}else{this.context.moveTo(_a+(_7=="left"?-3:3),AA(this,RGraph.GetHeight(this)-this.gutterBottom));this.context.lineTo(_a,AA(this,RGraph.GetHeight(this)-this.gutterBottom));}}}}if(this.Get("chart.noxaxis")==false){xTickGap=(this.canvas.width-this.gutterLeft-this.gutterRight)/this.data.length;if(typeof (this.Get("chart.numxticks"))=="number"){xTickGap=(this.canvas.width-this.gutterLeft-this.gutterRight)/this.Get("chart.numxticks");}if(_6=="bottom"){yStart=this.canvas.height-this.gutterBottom;yEnd=(this.canvas.height-this.gutterBottom)+3;}else{if(_6=="top"){yStart=this.gutterTop-3;yEnd=this.gutterTop;}else{if(_6=="center"){yStart=((this.canvas.height-this.gutterTop-this.gutterBottom)/2)+this.gutterTop+3;yEnd=((this.canvas.height-this.gutterTop-this.gutterBottom)/2)+this.gutterTop-3;}}}yStart=AA(this,yStart);yEnd=AA(this,yEnd);var _b=this.Get("chart.noendxtick");for(x=this.gutterLeft+(_7=="left"?xTickGap:0);x<this.canvas.width-this.gutterRight+(_7=="left"?5:0);x+=xTickGap){if(_7=="left"&&!_b&&x>this.gutterLeft){this.context.moveTo(AA(this,x),yStart);this.context.lineTo(AA(this,x),yEnd);}else{if(_7=="left"&&_b&&x>this.gutterLeft&&x<(this.canvas.width-this.gutterRight)){this.context.moveTo(AA(this,x),yStart);this.context.lineTo(AA(this,x),yEnd);}else{if(_7=="right"&&x<(this.canvas.width-this.gutterRight)&&!_b){this.context.moveTo(AA(this,x),yStart);this.context.lineTo(AA(this,x),yEnd);}else{if(_7=="right"&&x<(this.canvas.width-this.gutterRight)&&x>(this.gutterLeft)&&_b){this.context.moveTo(AA(this,x),yStart);this.context.lineTo(AA(this,x),yEnd);}}}}}if(this.Get("chart.noyaxis")||this.Get("chart.numxticks")==null){if(typeof (this.Get("chart.numxticks"))=="number"&&this.Get("chart.numxticks")>0){this.context.moveTo(AA(this,this.gutterLeft),yStart);this.context.lineTo(AA(this,this.gutterLeft),yEnd);}}}if(this.Get("chart.noyaxis")&&this.Get("chart.noxaxis")==false&&this.Get("chart.numxticks")==null){if(_6=="center"){this.context.moveTo(AA(this,this.gutterLeft),(RGraph.GetHeight(this)/2)-3);this.context.lineTo(AA(this,this.gutterLeft),(RGraph.GetHeight(this)/2)+3);}else{this.context.moveTo(AA(this,this.gutterLeft),this.canvas.height-this.gutterBottom);this.context.lineTo(AA(this,this.gutterLeft),this.canvas.height-this.gutterBottom+3);}}this.context.stroke();};RGraph.Bar.prototype.Drawbars=function(){this.context.lineWidth=this.Get("chart.linewidth");this.context.strokeStyle=this.Get("chart.strokecolor");this.context.fillStyle=this.Get("chart.colors")[0];var _c=0;var _d=0;var _e=this.Get("chart.scale.decimals");if(this.Get("chart.ymax")){this.max=this.Get("chart.ymax");this.min=this.Get("chart.ymin");this.scale=[(((this.max-this.min)*(1/5))+this.min).toFixed(_e),(((this.max-this.min)*(2/5))+this.min).toFixed(_e),(((this.max-this.min)*(3/5))+this.min).toFixed(_e),(((this.max-this.min)*(4/5))+this.min).toFixed(_e),(((this.max-this.min)*(5/5)+this.min)).toFixed(_e)];}else{this.min=this.Get("chart.ymin");for(i=0;i<this.data.length;++i){if(typeof (this.data[i])=="object"){var _f=this.Get("chart.grouping")=="grouped"?Number(RGraph.array_max(this.data[i],true)):Number(RGraph.array_sum(this.data[i]));}else{var _f=Number(this.data[i]);}this.max=Math.max(Math.abs(this.max),Math.abs(_f));}this.scale=RGraph.getScale(this.max,this);this.max=this.scale[4];if(this.Get("chart.ymin")){var _e=this.Get("chart.scale.decimals");this.scale[0]=((Number(this.scale[4]-this.min)*0.2)+this.min).toFixed(_e);this.scale[1]=((Number(this.scale[4]-this.min)*0.4)+this.min).toFixed(_e);this.scale[2]=((Number(this.scale[4]-this.min)*0.6)+this.min).toFixed(_e);this.scale[3]=((Number(this.scale[4]-this.min)*0.8)+this.min).toFixed(_e);this.scale[4]=((Number(this.scale[4]-this.min)*1)+this.min).toFixed(_e);}else{if(this.Get("chart.scale.decimals")){var _e=this.Get("chart.scale.decimals");this.scale[0]=Number(this.scale[0]).toFixed(_e);this.scale[1]=Number(this.scale[1]).toFixed(_e);this.scale[2]=Number(this.scale[2]).toFixed(_e);this.scale[3]=Number(this.scale[3]).toFixed(_e);this.scale[4]=Number(this.scale[4]).toFixed(_e);}}}if(this.Get("chart.adjustable")&&!this.Get("chart.ymax")){this.Set("chart.ymax",this.scale[4]);}if(this.Get("chart.background.hbars")&&this.Get("chart.background.hbars").length>0){RGraph.DrawBars(this);}var _10=this.Get("chart.variant");if(_10=="3d"){RGraph.Draw3DAxes(this);}var _11=this.Get("chart.xaxispos");var _12=(this.canvas.width-this.gutterLeft-this.gutterRight)/this.data.length;var _13=_14;var _15=this.Get("chart.hmargin");var _16=this.Get("chart.shadow");var _17=this.Get("chart.shadow.color");var _18=this.Get("chart.shadow.blur");var _19=this.Get("chart.shadow.offsetx");var _1a=this.Get("chart.shadow.offsety");var _1b=this.Get("chart.strokecolor");var _1c=this.Get("chart.colors");var _1d=0;for(i=0;i<this.data.length;++i){var _14=((RGraph.array_sum(this.data[i])<0?RGraph.array_sum(this.data[i])+this.min:RGraph.array_sum(this.data[i])-this.min)/(this.max-this.min))*(this.canvas.height-this.gutterTop-this.gutterBottom);if(_11=="center"){_14/=2;}var x=(i*_12)+this.gutterLeft;var y=_11=="center"?((this.canvas.height-this.gutterTop-this.gutterBottom)/2)+this.gutterTop-_14:this.canvas.height-_14-this.gutterBottom;if(_11=="top"){y=this.gutterTop+Math.abs(_14);}if(_14<0){y+=_14;_14=Math.abs(_14);}if(_16){this.context.shadowColor=_17;this.context.shadowBlur=_18;this.context.shadowOffsetX=_19;this.context.shadowOffsetY=_1a;}this.context.beginPath();if(typeof (this.data[i])=="number"){var _1e=_12-(2*_15);if(_1e<0){alert("[RGRAPH] Warning: you have a negative bar width. This may be caused by the chart.hmargin being too high or the width of the canvas not being sufficient.");}this.context.strokeStyle=_1b;this.context.fillStyle=_1c[0];if(this.Get("chart.colors.sequential")){this.context.fillStyle=_1c[i];}if(_10=="sketch"){this.context.lineCap="round";var _1f=3;this.context.beginPath();this.context.strokeStyle=_1c[0];if(this.Get("chart.colors.sequential")){this.context.strokeStyle=_1c[i];}this.context.moveTo(x+_15+2,y+_14-2);this.context.lineTo(x+_15,y-2);this.context.moveTo(x+_15-3,y+-2+(this.data[i]<0?_14:0));this.context.bezierCurveTo(x+((_15+_12)*0.33),y+5+(this.data[i]<0?_14-10:0),x+((_15+_12)*0.66),y+5+(this.data[i]<0?_14-10:0),x+_15+_12+-1,y+0+(this.data[i]<0?_14:0));this.context.moveTo(x+_15+_12-2,y+-2);this.context.lineTo(x+_15+_12-3,y+_14-3);for(var r=0.2;r<=0.8;r+=0.2){this.context.moveTo(x+_15+_12+(r>0.4?-1:3)-(r*_12),y-1);this.context.lineTo(x+_15+_12-(r>0.4?1:-1)-(r*_12),y+_14+(r==0.2?1:-2));}this.context.stroke();}else{if(_10=="bar"||_10=="3d"||_10=="glass"||_10=="bevel"){if(RGraph.isOld()&&_16){this.DrawIEShadow([x+_15,y,_1e,_14]);}if(_10=="glass"){RGraph.filledCurvyRect(this.context,x+_15,y,_1e,_14,3,this.data[i]>0,this.data[i]>0,this.data[i]<0,this.data[i]<0);RGraph.strokedCurvyRect(this.context,x+_15,y,_1e,_14,3,this.data[i]>0,this.data[i]>0,this.data[i]<0,this.data[i]<0);}else{this.context.strokeRect(x+_15,y,_1e,_14);this.context.fillRect(x+_15,y,_1e,_14);}if(_10=="3d"){var _20=this.context.strokeStyle;var _21=this.context.fillStyle;this.context.beginPath();this.context.moveTo(x+_15,y);this.context.lineTo(x+_15+10,y-5);this.context.lineTo(x+_15+10+_1e,y-5);this.context.lineTo(x+_15+_1e,y);this.context.closePath();this.context.stroke();this.context.fill();this.context.beginPath();this.context.moveTo(x+_15+_1e,y);this.context.lineTo(x+_15+_1e+10,y-5);this.context.lineTo(x+_15+_1e+10,y+_14-5);this.context.lineTo(x+_15+_1e,y+_14);this.context.closePath();this.context.stroke();this.context.fill();this.context.beginPath();this.context.fillStyle="rgba(255,255,255,0.3)";this.context.moveTo(x+_15,y);this.context.lineTo(x+_15+10,y-5);this.context.lineTo(x+_15+10+_1e,y-5);this.context.lineTo(x+_15+_1e,y);this.context.lineTo(x+_15,y);this.context.closePath();this.context.stroke();this.context.fill();this.context.beginPath();this.context.fillStyle="rgba(0,0,0,0.4)";this.context.moveTo(x+_15+_1e,y);this.context.lineTo(x+_15+_1e+10,y-5);this.context.lineTo(x+_15+_1e+10,y-5+_14);this.context.lineTo(x+_15+_1e,y+_14);this.context.lineTo(x+_15+_1e,y);this.context.closePath();this.context.stroke();this.context.fill();this.context.strokeStyle=_20;this.context.fillStyle=_21;}else{if(_10=="glass"){var _22=this.context.createLinearGradient(x+_15,y,x+_15+(_1e/2),y);_22.addColorStop(0,"rgba(255,255,255,0.9)");_22.addColorStop(1,"rgba(255,255,255,0.5)");this.context.beginPath();this.context.fillStyle=_22;this.context.fillRect(x+_15+2,y+(this.data[i]>0?2:0),(_1e/2)-2,_14-2);this.context.fill();}}if(this.Get("chart.labels.above")){if(_16){RGraph.NoShadow(this);}var _23=y-3;if(this.data[i]<0){_23+=_14+6+(this.Get("chart.text.size")-4);}if(this.Get("chart.xaxispos")=="top"){_23=this.gutterTop+_14+6+(typeof (this.Get("chart.labels.above.size"))=="number"?this.Get("chart.labels.above.size"):this.Get("chart.text.size")-4);}if(this.Get("chart.variant")=="3d"){_23-=5;}this.context.fillStyle=this.Get("chart.text.color");RGraph.Text(this.context,this.Get("chart.text.font"),typeof (this.Get("chart.labels.above.size"))=="number"?this.Get("chart.labels.above.size"):this.Get("chart.text.size")-3,x+_15+(_1e/2),_23,RGraph.number_format(this,Number(this.data[i]).toFixed(this.Get("chart.labels.above.decimals")),this.Get("chart.units.pre"),this.Get("chart.units.post")),this.Get("chart.labels.above.angle")?"bottom":null,this.Get("chart.labels.above.angle")?(this.Get("chart.labels.above.angle")>0&&(this.Get("chart.xaxispos")!="top")?"right":"left"):"center",null,this.Get("chart.labels.above.angle"));}}else{if(_10=="dot"){this.context.beginPath();this.context.moveTo(x+(_12/2),y);this.context.lineTo(x+(_12/2),y+_14);this.context.stroke();this.context.beginPath();this.context.fillStyle=this.Get("chart.colors")[i];this.context.arc(x+(_12/2),y+(this.data[i]>0?0:_14),2,0,6.28,0);this.context.fillStyle=this.Get("chart.colors")[0];if(this.Get("chart.colors.sequential")){this.context.fillStyle=_1c[i];}this.context.stroke();this.context.fill();}else{if(_10=="pyramid"){this.context.beginPath();var _24=(this.Get("chart.xaxispos")=="center"?(RGraph.GetHeight(this)/2):(RGraph.GetHeight(this)-this.gutterBottom));this.context.moveTo(x+_15,_24);this.context.lineTo(x+_15+(_1e/2),y+(this.Get("chart.xaxispos")=="center"&&(this.data[i]<0)?_14:0));this.context.lineTo(x+_15+_1e,_24);this.context.closePath();this.context.stroke();this.context.fill();}else{if(_10=="arrow"){var _24=(this.Get("chart.xaxispos")=="center"?(RGraph.GetHeight(this)/2):(RGraph.GetHeight(this)-this.gutterBottom));this.context.lineWidth=this.Get("chart.linewidth")?this.Get("chart.linewidth"):1;this.context.lineCap="round";this.context.beginPath();this.context.moveTo(x+_15+(_1e/2),_24);this.context.lineTo(x+_15+(_1e/2),y+(this.Get("chart.xaxispos")=="center"&&(this.data[i]<0)?_14:0));this.context.arc(x+_15+(_1e/2),y+(this.Get("chart.xaxispos")=="center"&&(this.data[i]<0)?_14:0),5,this.data[i]>0?0.78:5.6,this.data[i]>0?0.79:5.48,this.data[i]<0);this.context.moveTo(x+_15+(_1e/2),y+(this.Get("chart.xaxispos")=="center"&&(this.data[i]<0)?_14:0));this.context.arc(x+_15+(_1e/2),y+(this.Get("chart.xaxispos")=="center"&&(this.data[i]<0)?_14:0),5,this.data[i]>0?2.355:4,this.data[i]>0?2.4:3.925,this.data[i]<0);this.context.stroke();this.context.lineWidth=1;}else{alert("[BAR] Warning! Unknown chart.variant: "+_10);}}}}}this.coords.push([x+_15,y,_12-(2*_15),_14]);}else{if(typeof (this.data[i])=="object"&&this.Get("chart.grouping")=="stacked"){if(this.min){alert("[ERROR] Stacked Bar charts with a Y min are not supported");}var _1e=_12-(2*_15);var _25=[];var _24=0;var _26=this.data[i];if(_1e<0){alert("[RGRAPH] Warning: you have a negative bar width. This may be caused by the chart.hmargin being too high or the width of the canvas not being sufficient.");}for(j=0;j<_26.length;++j){if(_11=="center"){alert("[BAR] It's pointless having the X axis position at the center on a stacked bar chart.");return;}if(this.data[i][j]<0){alert("[BAR] Negative values are not permitted with a stacked bar chart. Try a grouped one instead.");return;}this.context.strokeStyle=_1b;this.context.fillStyle=_1c[j];if(this.Get("chart.colors.reverse")){this.context.fillStyle=_1c[this.data[i].length-j-1];}if(this.Get("chart.colors.sequential")&&_1c[_1d]){this.context.fillStyle=_1c[_1d++];}else{if(this.Get("chart.colors.sequential")){this.context.fillStyle=_1c[_1d-1];}}var _14=(_26[j]/this.max)*(this.canvas.height-this.gutterTop-this.gutterBottom);if(_11=="center"){_14/=2;}var _27=(RGraph.array_sum(_26)/this.max)*(this.canvas.height-_15-this.gutterTop-this.gutterBottom);this.coords.push([x+_15,y,_12-(2*_15),_14]);if(RGraph.isOld()&&_16){this.DrawIEShadow([x+_15,y,_12-(2*_15),_14+1]);}this.context.strokeRect(x+_15,y,_12-(2*_15),_14);this.context.fillRect(x+_15,y,_12-(2*_15),_14);if(j==0){var _24=y;var _28=x;}if(_16){_25.push([x+_15,y,_12-(2*_15),_14,this.context.fillStyle]);}if(_10=="3d"){var _21=this.context.fillStyle;var _20=this.context.strokeStyle;if(j==0){this.context.beginPath();this.context.moveTo(_28+_15,y);this.context.lineTo(_28+10+_15,y-5);this.context.lineTo(_28+10+_1e+_15,y-5);this.context.lineTo(_28+_1e+_15,y);this.context.closePath();this.context.fill();this.context.stroke();}this.context.beginPath();this.context.moveTo(_28+_1e+_15,y);this.context.lineTo(_28+_1e+_15+10,y-5);this.context.lineTo(_28+_1e+_15+10,y-5+_14);this.context.lineTo(_28+_1e+_15,y+_14);this.context.closePath();this.context.fill();this.context.stroke();if(j==0){this.context.fillStyle="rgba(255,255,255,0.3)";this.context.beginPath();this.context.moveTo(_28+_15,y);this.context.lineTo(_28+10+_15,y-5);this.context.lineTo(_28+10+_1e+_15,y-5);this.context.lineTo(_28+_1e+_15,y);this.context.closePath();this.context.fill();this.context.stroke();}this.context.fillStyle="rgba(0,0,0,0.4)";this.context.beginPath();this.context.moveTo(_28+_1e+_15,y);this.context.lineTo(_28+_1e+_15+10,y-5);this.context.lineTo(_28+_1e+_15+10,y-5+_14);this.context.lineTo(_28+_1e+_15,y+_14);this.context.closePath();this.context.fill();this.context.stroke();this.context.strokeStyle=_20;this.context.fillStyle=_21;}y+=_14;}if(this.Get("chart.labels.above")){RGraph.NoShadow(this);this.context.fillStyle=this.Get("chart.text.color");RGraph.Text(this.context,this.Get("chart.text.font"),typeof (this.Get("chart.labels.above.size"))=="number"?this.Get("chart.labels.above.size"):this.Get("chart.text.size")-3,_28+(_1e/2)+this.Get("chart.hmargin"),_24-(this.Get("chart.shadow")&&this.Get("chart.shadow.offsety")<0?7:4)-(this.Get("chart.variant")=="3d"?5:0),String(this.Get("chart.units.pre")+RGraph.array_sum(this.data[i]).toFixed(this.Get("chart.labels.above.decimals"))+this.Get("chart.units.post")),this.Get("chart.labels.above.angle")?"bottom":null,this.Get("chart.labels.above.angle")?(this.Get("chart.labels.above.angle")>0?"right":"left"):"center",null,this.Get("chart.labels.above.angle"));if(_16){this.context.shadowColor=_17;this.context.shadowBlur=_18;this.context.shadowOffsetX=_19;this.context.shadowOffsetY=_1a;}}if(_16){RGraph.NoShadow(this);for(k=0;k<_25.length;++k){this.context.strokeStyle=_1b;this.context.fillStyle=_25[k][4];this.context.strokeRect(_25[k][0],_25[k][1],_25[k][2],_25[k][3]);this.context.fillRect(_25[k][0],_25[k][1],_25[k][2],_25[k][3]);this.context.stroke();this.context.fill();}_25=[];}}else{if(typeof (this.data[i])=="object"&&this.Get("chart.grouping")=="grouped"){var _25=[];this.context.lineWidth=this.Get("chart.linewidth");for(j=0;j<this.data[i].length;++j){this.context.strokeStyle=_1b;this.context.fillStyle=_1c[j];if(this.Get("chart.colors.sequential")&&_1c[_1d]){this.context.fillStyle=_1c[_1d++];}else{if(this.Get("chart.colors.sequential")){this.context.fillStyle=_1c[_1d-1];}}var _29=(_12-(2*_15))/this.data[i].length;var _14=((this.data[i][j]+(this.data[i][j]<0?this.min:(-1*this.min)))/(this.max-this.min))*(this.canvas.height-this.gutterTop-this.gutterBottom);if(_29<0){alert("[RGRAPH] Warning: you have a negative bar width. This may be caused by the chart.hmargin being too high or the width of the canvas not being sufficient.");}if(_11=="center"){_14/=2;}var _28=x+_15+(j*_29);if(_11=="top"){var _24=this.Get("chart.gutter.top");var _14=Math.abs(_14);}else{if(_11=="center"){var _24=this.gutterTop+(this.grapharea/2)-_14;}else{var _24=this.canvas.height-this.gutterBottom-_14;var _14=Math.abs(_14);}}if(RGraph.isOld()&&_16){this.DrawIEShadow([_28,_24,_29,_14]);}this.context.strokeRect(_28,_24,_29,_14);this.context.fillRect(_28,_24,_29,_14);y+=_14;if(_10=="3d"){var _21=this.context.fillStyle;var _20=this.context.strokeStyle;this.context.beginPath();this.context.moveTo(_28,_24);this.context.lineTo(_28+10,_24-5);this.context.lineTo(_28+10+_29,_24-5);this.context.lineTo(_28+_29,_24);this.context.closePath();this.context.fill();this.context.stroke();this.context.beginPath();this.context.moveTo(_28+_29,_24);this.context.lineTo(_28+_29+10,_24-5);this.context.lineTo(_28+_29+10,_24-5+_14);this.context.lineTo(_28+_29,_24+_14);this.context.closePath();this.context.fill();this.context.stroke();this.context.fillStyle="rgba(255,255,255,0.3)";this.context.beginPath();this.context.moveTo(_28,_24);this.context.lineTo(_28+10,_24-5);this.context.lineTo(_28+10+_29,_24-5);this.context.lineTo(_28+_29,_24);this.context.closePath();this.context.fill();this.context.stroke();this.context.fillStyle="rgba(0,0,0,0.4)";this.context.beginPath();this.context.moveTo(_28+_29,_24);this.context.lineTo(_28+_29+10,_24-5);this.context.lineTo(_28+_29+10,_24-5+_14);this.context.lineTo(_28+_29,_24+_14);this.context.closePath();this.context.fill();this.context.stroke();this.context.strokeStyle=_20;this.context.fillStyle=_21;}if(_14<0){_14=Math.abs(_14);_24=_24-_14;}this.coords.push([_28,_24,_29,_14]);if(this.Get("chart.shadow")){_25.push([_28,_24,_29,_14,this.context.fillStyle]);}if(this.Get("chart.labels.above")){this.context.strokeStyle="rgba(0,0,0,0)";if(_16){RGraph.NoShadow(this);}var _23=y-3;if(this.data[i][j]<0){_23+=_14+6+(this.Get("chart.text.size")-4);}this.context.fillStyle=this.Get("chart.text.color");RGraph.Text(this.context,this.Get("chart.text.font"),typeof (this.Get("chart.labels.above.size"))=="number"?this.Get("chart.labels.above.size"):this.Get("chart.text.size")-3,_28+(_29/2),_24-2-(this.Get("chart.variant")=="3d"?5:0),RGraph.number_format(this,this.data[i][j].toFixed(this.Get("chart.labels.above.decimals"))),null,this.Get("chart.labels.above.angle")?(this.Get("chart.labels.above.angle")>0?"right":"left"):"center",null,this.Get("chart.labels.above.angle"));if(_16){this.context.shadowColor=_17;this.context.shadowBlur=_18;this.context.shadowOffsetX=_19;this.context.shadowOffsetY=_1a;}}}if(_25.length){RGraph.NoShadow(this);this.context.lineWidth=this.Get("chart.linewidth");this.context.beginPath();for(var j=0;j<_25.length;++j){this.context.fillStyle=_25[j][4];this.context.strokeStyle=this.Get("chart.strokecolor");this.context.fillRect(_25[j][0],_25[j][1],_25[j][2],_25[j][3]);this.context.strokeRect(_25[j][0],_25[j][1],_25[j][2],_25[j][3]);}this.context.fill();this.context.stroke();_25=[];}}}}this.context.closePath();}RGraph.NoShadow(this);};RGraph.Bar.prototype.DrawLabels=function(){var _2a=this.context;var _2b=this.Get("chart.text.angle");var _2c=this.Get("chart.text.size");var _2d=this.Get("chart.labels");if(this.Get("chart.ylabels")){this.Drawlabels_top();this.Drawlabels_center();this.Drawlabels_bottom();}if(typeof (_2d)=="object"&&_2d){var _2e=13+Number(this.Get("chart.xlabels.offset"));var _2f=0;var _30="center";if(_2b>0){_2f=-1*_2b;_30="right";_2e-=5;if(this.Get("chart.xaxispos")=="top"){_30="left";_2e+=5;}}_2a.fillStyle=this.Get("chart.text.color");var _31=(RGraph.GetWidth(this)-this.gutterRight-this.gutterLeft)/_2d.length;xTickGap=(RGraph.GetWidth(this)-this.gutterRight-this.gutterLeft)/_2d.length;var i=0;var _32=this.Get("chart.text.font");for(x=this.gutterLeft+(xTickGap/2);x<=RGraph.GetWidth(this)-this.gutterRight;x+=xTickGap){RGraph.Text(_2a,_32,_2c,x+(this.Get("chart.text.angle")==90?0:0),this.Get("chart.xaxispos")=="top"?this.gutterTop-_2e+_2c-1:(RGraph.GetHeight(this)-this.gutterBottom)+_2e,String(_2d[i++]),(this.Get("chart.text.angle")==90?"center":null),_30,null,_2f);}}};RGraph.Bar.prototype.Drawlabels_top=function(){this.context.beginPath();this.context.fillStyle=this.Get("chart.text.color");this.context.strokeStyle="black";if(this.Get("chart.xaxispos")=="top"){var _33=this.context;var _34=(this.grapharea*(1/5));var _35=this.Get("chart.text.size");var _36=this.Get("chart.units.pre");var _37=this.Get("chart.units.post");var _38=this.Get("chart.yaxispos")=="left"?"right":"left";var _39=this.Get("chart.text.font");var _3a=this.Get("chart.ylabels.count");if(this.Get("chart.ylabels.inside")==true){var _3b=this.Get("chart.yaxispos")=="left"?this.gutterLeft+5:RGraph.GetWidth(this)-this.gutterRight-5;var _38=this.Get("chart.yaxispos")=="left"?"left":"right";var _3c=true;}else{var _3b=this.Get("chart.yaxispos")=="left"?this.gutterLeft-5:this.canvas.width-this.gutterRight+5;var _3c=false;}if(typeof (this.Get("chart.ylabels.specific"))=="object"&&this.Get("chart.ylabels.specific")){var _3d=RGraph.array_reverse(this.Get("chart.ylabels.specific"));var _3e=RGraph.GetHeight(this)-this.gutterTop-this.gutterBottom;for(var i=0;i<_3d.length;++i){var y=this.gutterTop+(_3e*(i/_3d.length))+(_3e/_3d.length);RGraph.Text(_33,_39,_35,_3b,y,_3d[i],"center",_38,_3c);}return;}if(_3a==3||_3a==5){RGraph.Text(_33,_39,_35,_3b,this.gutterTop+this.halfTextHeight+_34,"-"+RGraph.number_format(this,this.scale[0],_36,_37),null,_38,_3c);if(_3a==5){RGraph.Text(_33,_39,_35,_3b,(1*_34)+this.gutterTop+this.halfTextHeight+_34,"-"+RGraph.number_format(this,this.scale[1],_36,_37),null,_38,_3c);RGraph.Text(_33,_39,_35,_3b,(3*_34)+this.gutterTop+this.halfTextHeight+_34,"-"+RGraph.number_format(this,this.scale[3],_36,_37),null,_38,_3c);}if(_3a==3||_3a==5){RGraph.Text(_33,_39,_35,_3b,(2*_34)+this.gutterTop+this.halfTextHeight+_34,"-"+RGraph.number_format(this,this.scale[2],_36,_37),null,_38,_3c);RGraph.Text(_33,_39,_35,_3b,(4*_34)+this.gutterTop+this.halfTextHeight+_34,"-"+RGraph.number_format(this,this.scale[4],_36,_37),null,_38,_3c);}}if(_3a==10){_34=(this.grapharea/_3a);for(var i=10;i>0;--i){RGraph.Text(_33,_39,_35,_3b,this.gutterTop+((this.grapharea/_3a)*i),"-"+RGraph.number_format(this,((this.scale[4]/_3a)*i).toFixed((this.Get("chart.scale.decimals"))),_36,_37),"center",_38,_3c);}}if(this.Get("chart.ymin")!=0){RGraph.Text(_33,_39,_35,_3b,this.gutterTop,"-"+RGraph.number_format(this,(this.min.toFixed((this.Get("chart.scale.decimals")))),_36,_37),"center",_38,_3c);}}this.context.fill();this.context.stroke();};RGraph.Bar.prototype.Drawlabels_center=function(){var _3f=this.Get("chart.text.font");var _40=this.Get("chart.ylabels.count");this.context.fillStyle=this.Get("chart.text.color");if(this.Get("chart.xaxispos")=="center"){var _41=(this.grapharea*(1/10));var _42=this.Get("chart.text.size");var _43=this.Get("chart.units.pre");var _44=this.Get("chart.units.post");var _45=this.context;var _46="";var _47=0;var _48=false;this.context.fillStyle=this.Get("chart.text.color");this.context.strokeStyle="black";if(this.Get("chart.ylabels.inside")==true){var _47=this.Get("chart.yaxispos")=="left"?this.gutterLeft+5:RGraph.GetWidth(this)-this.gutterRight-5;var _46=this.Get("chart.yaxispos")=="left"?"left":"right";var _48=true;}else{var _47=this.Get("chart.yaxispos")=="left"?this.gutterLeft-5:RGraph.GetWidth(this)-this.gutterRight+5;var _46=this.Get("chart.yaxispos")=="left"?"right":"left";var _48=false;}if(typeof (this.Get("chart.ylabels.specific"))=="object"&&this.Get("chart.ylabels.specific")){var _49=this.Get("chart.ylabels.specific");var _4a=this.canvas.height-this.gutterTop-this.gutterBottom;for(var i=0;i<_49.length;++i){var y=this.gutterTop+((_4a/2)/_49.length)*i;RGraph.Text(_45,_3f,_42,_47,y,String(_49[i]),"center",_46,_48);}for(var i=_49.length-1;i>=0;--i){var y=this.gutterTop+(_4a*((i+1)/(_49.length*2)))+(_4a/2);RGraph.Text(_45,_3f,_42,_47,y,_49[_49.length-i-1],"center",_46,_48);}return;}if(_40==3||_40==5){RGraph.Text(_45,_3f,_42,_47,this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[4],_43,_44),null,_46,_48);if(_40==5){RGraph.Text(_45,_3f,_42,_47,(1*_41)+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[3],_43,_44),null,_46,_48);RGraph.Text(_45,_3f,_42,_47,(3*_41)+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[1],_43,_44),null,_46,_48);}if(_40==3||_40==5){RGraph.Text(_45,_3f,_42,_47,(4*_41)+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[0],_43,_44),null,_46,_48);RGraph.Text(_45,_3f,_42,_47,(2*_41)+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[2],_43,_44),null,_46,_48);}}else{if(_40==10){_41=(this.grapharea/_40)/2;for(var i=0;i<_40;++i){RGraph.Text(_45,_3f,_42,_47,this.gutterTop+((this.grapharea/(_40*2))*i),RGraph.number_format(this,((this.scale[4]/_40)*(_40-i)).toFixed((this.Get("chart.scale.decimals"))),_43,_44),"center",_46,_48);}}}var _41=(this.grapharea)/10;if(_40==3||_40==5){if(_40==3||_40==5){RGraph.Text(_45,_3f,_42,_47,(this.grapharea+this.gutterTop+this.halfTextHeight)-(4*_41),"-"+RGraph.number_format(this,this.scale[0],_43,_44),null,_46,_48);RGraph.Text(_45,_3f,_42,_47,(this.grapharea+this.gutterTop+this.halfTextHeight)-(2*_41),"-"+RGraph.number_format(this,this.scale[2],_43,_44),null,_46,_48);}if(_40==5){RGraph.Text(_45,_3f,_42,_47,(this.grapharea+this.gutterTop+this.halfTextHeight)-(3*_41),"-"+RGraph.number_format(this,this.scale[1],_43,_44),null,_46,_48);RGraph.Text(_45,_3f,_42,_47,(this.grapharea+this.gutterTop+this.halfTextHeight)-_41,"-"+RGraph.number_format(this,this.scale[3],_43,_44),null,_46,_48);}RGraph.Text(_45,_3f,_42,_47,this.grapharea+this.gutterTop+this.halfTextHeight,"-"+RGraph.number_format(this,this.scale[4],_43,_44),null,_46,_48);}else{if(_40==10){_41=(this.grapharea/_40)/2;for(var i=0;i<_40;++i){RGraph.Text(_45,_3f,_42,_47,this.gutterTop+(this.grapharea/2)+((this.grapharea/(_40*2))*i)+(this.grapharea/(_40*2)),RGraph.number_format(this,((this.scale[4]/_40)*(i+1)).toFixed((this.Get("chart.scale.decimals"))),"-"+_43,_44),"center",_46,_48);}}}if(this.Get("chart.ymin")!=0){RGraph.Text(_45,_3f,_42,_47,this.gutterTop+(this.grapharea/2),RGraph.number_format(this,(this.min.toFixed((this.Get("chart.scale.decimals")))),_43,_44),"center",_46,_48);}}};RGraph.Bar.prototype.Drawlabels_bottom=function(){this.context.beginPath();this.context.fillStyle=this.Get("chart.text.color");this.context.strokeStyle="black";if(this.Get("chart.xaxispos")!="center"&&this.Get("chart.xaxispos")!="top"){var _4b=(this.grapharea*(1/5));var _4c=this.Get("chart.text.size");var _4d=this.Get("chart.units.pre");var _4e=this.Get("chart.units.post");var _4f=this.context;var _50=this.Get("chart.yaxispos")=="left"?"right":"left";var _51=this.Get("chart.text.font");var _52=this.Get("chart.ylabels.count");if(this.Get("chart.ylabels.inside")==true){var _53=this.Get("chart.yaxispos")=="left"?this.gutterLeft+5:RGraph.GetWidth(this)-this.gutterRight-5;var _50=this.Get("chart.yaxispos")=="left"?"left":"right";var _54=true;}else{var _53=this.Get("chart.yaxispos")=="left"?this.gutterLeft-5:RGraph.GetWidth(this)-this.gutterRight+5;var _54=false;}if(this.Get("chart.ylabels.specific")&&typeof (this.Get("chart.ylabels.specific"))=="object"){var _55=this.Get("chart.ylabels.specific");var _56=this.canvas.height-this.gutterTop-this.gutterBottom;for(var i=0;i<_55.length;++i){var y=this.gutterTop+(_56*(i/_55.length));RGraph.Text(_4f,_51,_4c,_53,y,_55[i],"center",_50,_54);}return;}if(_52==3||_52==5){RGraph.Text(_4f,_51,_4c,_53,this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[4],_4d,_4e),null,_50,_54);if(_52==5){RGraph.Text(_4f,_51,_4c,_53,(1*_4b)+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[3],_4d,_4e),null,_50,_54);RGraph.Text(_4f,_51,_4c,_53,(3*_4b)+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[1],_4d,_4e),null,_50,_54);}if(_52==3||_52==5){RGraph.Text(_4f,_51,_4c,_53,(2*_4b)+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[2],_4d,_4e),null,_50,_54);RGraph.Text(_4f,_51,_4c,_53,(4*_4b)+this.gutterTop+this.halfTextHeight,RGraph.number_format(this,this.scale[0],_4d,_4e),null,_50,_54);}}if(_52==10){_4b=(this.grapharea/_52);for(var i=0;i<_52;++i){RGraph.Text(_4f,_51,_4c,_53,this.gutterTop+((this.grapharea/_52)*i),RGraph.number_format(this,((this.scale[4]/_52)*(_52-i)).toFixed((this.Get("chart.scale.decimals"))),_4d,_4e),"center",_50,_54);}}if(this.Get("chart.ymin")!=0){RGraph.Text(_4f,_51,_4c,_53,this.canvas.height-this.gutterBottom,RGraph.number_format(this,(this.min.toFixed((this.Get("chart.scale.decimals")))),_4d,_4e),"center",_50,_54);}}this.context.fill();this.context.stroke();};RGraph.Bar.prototype.DrawIEShadow=function(_57){var _58=this.context.fillStyle;var _59=this.Get("chart.shadow.offsetx");var _5a=this.Get("chart.shadow.offsety");this.context.lineWidth=this.Get("chart.linewidth");this.context.fillStyle=this.Get("chart.shadow.color");this.context.beginPath();this.context.fillRect(_57[0]+_59,_57[1]+_5a,_57[2],_57[3]);this.context.fill();this.context.fillStyle=_58;};RGraph.Bar.prototype.getShape=RGraph.Bar.prototype.getBar=function(e){var obj=arguments[1]?arguments[1]:this;var _5b=RGraph.getMouseXY(e);var _5c=_5b[0];var _5d=_5b[1];for(var i=0;i<this.coords.length;i++){var _5e=obj.coords[i][0];var top=obj.coords[i][1];var _5f=obj.coords[i][2];var _60=obj.coords[i][3];if(_5c>=_5e&&_5c<=(_5e+_5f)&&_5d>=top&&_5d<=(top+_60)){if(this.Get("chart.tooltips")){var _61=RGraph.parseTooltipText?RGraph.parseTooltipText(this.Get("chart.tooltips"),i):this.Get("chart.tooltips")[i];}var _62=0;var idx=i;while(idx>=(typeof (this.data[_62])=="object"?this.data[_62].length:1)){if(typeof (this.data[_62])=="number"){idx-=1;}else{idx-=this.data[_62].length;}_62++;}if(typeof (this.data[_62])=="number"){idx=null;}return {0:obj,1:_5e,2:top,3:_5f,4:_60,5:i,"object":obj,"x":_5e,"y":top,"width":_5f,"height":_60,"index":i,"tooltip":_61,"index_adjusted":idx,"dataset":_62};}}return null;};RGraph.Bar.prototype.getShapeByX=function(e){var _63=e.target;var _64=RGraph.getMouseXY(e);var obj=arguments[1]?arguments[1]:this;for(var i=0;i<obj.coords.length;i++){var _65=_64[0];var _66=_64[1];var _67=obj.coords[i][0];var top=obj.coords[i][1];var _68=obj.coords[i][2];var _69=obj.coords[i][3];if(_65>=_67&&_65<=(_67+_68)){if(this.Get("chart.tooltips")){var _6a=RGraph.parseTooltipText?RGraph.parseTooltipText(this.Get("chart.tooltips"),i):this.Get("chart.tooltips")[i];}return {0:obj,1:_67,2:top,3:_68,4:_69,5:i,"object":obj,"x":_67,"y":top,"width":_68,"height":_69,"index":i,"tooltip":_6a};}}return null;};RGraph.Bar.prototype.getValue=function(arg){if(arg.length==2){var _6b=arg[0];var _6c=arg[1];}else{var _6d=RGraph.getMouseXY(arg);var _6b=_6d[0];var _6c=_6d[1];}if(_6c<this.Get("chart.gutter.top")||_6c>(this.canvas.height-this.Get("chart.gutter.bottom"))||_6b<this.Get("chart.gutter.left")||_6b>(this.canvas.width-this.Get("chart.gutter.right"))){return null;}if(this.Get("chart.xaxispos")=="center"){var _6e=(((this.grapharea/2)-(_6c-this.Get("chart.gutter.top")))/this.grapharea)*(this.max-this.min);_6e*=2;if(_6e>=0){_6e+=this.min;}else{_6e-=this.min;}}else{if(this.Get("chart.xaxispos")=="top"){var _6e=((this.grapharea-(_6c-this.Get("chart.gutter.top")))/this.grapharea)*(this.max-this.min);_6e=this.max-_6e;_6e=Math.abs(_6e)*-1;}else{var _6e=((this.grapharea-(_6c-this.Get("chart.gutter.top")))/this.grapharea)*(this.max-this.min);_6e+=this.min;}}return _6e;};RGraph.Bar.prototype.getYCoord=function(_6f){var _70;_70=((_6f-this.min)/(this.max-this.min))*this.grapharea;_70=this.canvas.height-this.gutterBottom-_70;return _70;};RGraph.Bar.prototype.Highlight=function(_71){RGraph.Highlight.Rect(this,_71);};RGraph.Bar.prototype.getObjectByXY=function(e){var _72=RGraph.getMouseXY(e);if(_72[0]>=this.Get("chart.gutter.left")&&_72[0]<=(this.canvas.width-this.Get("chart.gutter.right"))&&_72[1]>=this.Get("chart.gutter.top")&&_72[1]<=(this.canvas.height-this.Get("chart.gutter.bottom"))){return this;}};RGraph.Bar.prototype.Adjusting_mousemove=function(e){if(RGraph.Registry.Get("chart.adjusting")&&RGraph.Registry.Get("chart.adjusting").uid==this.uid){var _73=Number(this.getValue(e));var _74=this.getShapeByX(e);if(_74){RGraph.Registry.Set("chart.adjusting.shape",_74);this.data[_74["index"]]=Number(_73);RGraph.RedrawCanvas(e.target);RGraph.FireCustomEvent(this,"onadjust");}}};RGraph.CombinedChart=function(){this.objects=[];for(var i=0;i<arguments.length;++i){this.objects[i]=arguments[i];this.objects[i].Set("chart.gutter.left",this.objects[0].Get("chart.gutter.left"));this.objects[i].Set("chart.gutter.right",this.objects[0].Get("chart.gutter.right"));this.objects[i].Set("chart.gutter.top",this.objects[0].Get("chart.gutter.top"));this.objects[i].Set("chart.gutter.bottom",this.objects[0].Get("chart.gutter.bottom"));if(this.objects[i].type=="line"){this.objects[i].Set("chart.hmargin",((this.objects[0].canvas.width-this.objects[0].Get("chart.gutter.right")-this.objects[0].Get("chart.gutter.left"))/this.objects[0].data.length)/2);this.objects[i].Set("chart.noaxes",true);this.objects[i].Set("chart.background.grid",false);this.objects[i].Set("chart.ylabels",false);}}};RGraph.CombinedChart.prototype.Draw=function(){for(var i=0;i<this.objects.length;++i){if(typeof (arguments[i])=="function"){arguments[i](this.objects[i]);}else{this.objects[i].Draw();}}};